{"ast":null,"code":"export var createGeolocation = function createGeolocation(emitNotSupportedError, window, wrapSubscribeFunction) {\n  return function (options) {\n    return wrapSubscribeFunction(function (observer) {\n      if (window === null || window.navigator === undefined || window.navigator.geolocation === undefined || window.navigator.geolocation.clearWatch === undefined || window.navigator.geolocation.watchPosition === undefined) {\n        return emitNotSupportedError(observer);\n      }\n\n      var watchId = window.navigator.geolocation.watchPosition(function (position) {\n        return observer.next(position);\n      }, function (err) {\n        return observer.error(err);\n      }, options);\n      return function () {\n        return window.navigator.geolocation.clearWatch(watchId);\n      };\n    });\n  };\n};","map":{"version":3,"sources":["../../../src/factories/geolocation.ts"],"names":[],"mappings":"AAEA,OAAO,IAAM,iBAAiB,GAAG,SAApB,iBAAoB,CAC7B,qBAD6B,EAE7B,MAF6B,EAG7B,qBAH6B,EAI7B;AACA,SAAO,UAAC,OAAD;AAAA,WACH,qBAAqB,CAAC,UAAC,QAAD,EAAa;AAC/B,UACI,MAAM,KAAK,IAAX,IACA,MAAM,CAAC,SAAP,KAAqB,SADrB,IAEA,MAAM,CAAC,SAAP,CAAiB,WAAjB,KAAiC,SAFjC,IAGA,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,UAA7B,KAA4C,SAH5C,IAIA,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,aAA7B,KAA+C,SALnD,EAME;AACE,eAAO,qBAAqB,CAAC,QAAD,CAA5B;AACH;;AAED,UAAM,OAAO,GAAG,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,aAA7B,CACZ,UAAC,QAAD;AAAA,eAAc,QAAQ,CAAC,IAAT,CAAc,QAAd,CAAd;AAAA,OADY,EAEZ,UAAC,GAAD;AAAA,eAAS,QAAQ,CAAC,KAAT,CAAe,GAAf,CAAT;AAAA,OAFY,EAGZ,OAHY,CAAhB;AAMA,aAAO;AAAA,eAAM,MAAM,CAAC,SAAP,CAAiB,WAAjB,CAA6B,UAA7B,CAAwC,OAAxC,CAAN;AAAA,OAAP;AACH,KAlBoB,CADlB;AAAA,GAAP;AAoBH,CAzBM","sourceRoot":"","sourcesContent":["export const createGeolocation = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return (options) => wrapSubscribeFunction((observer) => {\n        if (window === null ||\n            window.navigator === undefined ||\n            window.navigator.geolocation === undefined ||\n            window.navigator.geolocation.clearWatch === undefined ||\n            window.navigator.geolocation.watchPosition === undefined) {\n            return emitNotSupportedError(observer);\n        }\n        const watchId = window.navigator.geolocation.watchPosition((position) => observer.next(position), (err) => observer.error(err), options);\n        return () => window.navigator.geolocation.clearWatch(watchId);\n    });\n};\n//# sourceMappingURL=geolocation.js.map"]},"metadata":{},"sourceType":"module"}