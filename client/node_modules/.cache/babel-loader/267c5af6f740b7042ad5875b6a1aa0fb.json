{"ast":null,"code":"export var createListener = function createListener(ongoingRequests) {\n  return function (_ref) {\n    var message = _ref.data;\n    var id = message.id;\n\n    if (id !== null) {\n      var ongoingRequest = ongoingRequests.get(id);\n\n      if (ongoingRequest !== undefined) {\n        var reject = ongoingRequest.reject,\n            resolve = ongoingRequest.resolve;\n        ongoingRequests.delete(id);\n\n        if (message.error === undefined) {\n          resolve(message.result);\n        } else {\n          reject(new Error(message.error.message));\n        }\n      }\n    }\n  };\n};","map":{"version":3,"sources":["../../../src/factories/listener.ts"],"names":[],"mappings":"AAGA,OAAO,IAAM,cAAc,GAAG,SAAjB,cAAiB,CAAC,eAAD,EAA0E;AACpG,SAAO,gBAAoC;AAAA,QAA3B,OAA2B,QAAjC,IAAiC;AACvC,QAAQ,EAAR,GAAe,OAAf,CAAQ,EAAR;;AAEA,QAAI,EAAE,KAAK,IAAX,EAAiB;AACb,UAAM,cAAc,GAAG,eAAe,CAAC,GAAhB,CAAoB,EAApB,CAAvB;;AAEA,UAAI,cAAc,KAAK,SAAvB,EAAkC;AAC9B,YAAQ,MAAR,GAA4B,cAA5B,CAAQ,MAAR;AAAA,YAAgB,OAAhB,GAA4B,cAA5B,CAAgB,OAAhB;AAEA,QAAA,eAAe,CAAC,MAAhB,CAAuB,EAAvB;;AAEA,YAA0B,OAAQ,CAAC,KAAT,KAAmB,SAA7C,EAAwD;AACpD,UAAA,OAAO,CAAwB,OAAQ,CAAC,MAAjC,CAAP;AACH,SAFD,MAEO;AACH,UAAA,MAAM,CAAC,IAAI,KAAJ,CAAgC,OAAQ,CAAC,KAAT,CAAe,OAA/C,CAAD,CAAN;AACH;AACJ;AACJ;AACJ,GAlBD;AAmBH,CApBM","sourceRoot":"","sourcesContent":["export const createListener = (ongoingRequests) => {\n    return ({ data: message }) => {\n        const { id } = message;\n        if (id !== null) {\n            const ongoingRequest = ongoingRequests.get(id);\n            if (ongoingRequest !== undefined) {\n                const { reject, resolve } = ongoingRequest;\n                ongoingRequests.delete(id);\n                if (message.error === undefined) {\n                    resolve(message.result);\n                }\n                else {\n                    reject(new Error(message.error.message));\n                }\n            }\n        }\n    };\n};\n//# sourceMappingURL=listener.js.map"]},"metadata":{},"sourceType":"module"}