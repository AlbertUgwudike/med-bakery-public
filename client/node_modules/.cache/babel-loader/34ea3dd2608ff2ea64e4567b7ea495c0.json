{"ast":null,"code":"import _regeneratorRuntime from \"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { register as rgstr } from 'media-encoder-host';\nimport { createBlobEventFactory } from './factories/blob-event-factory';\nimport { createDecodeWebMChunk } from './factories/decode-web-m-chunk';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createEventTargetFactory } from './factories/event-target-factory';\nimport { createInvalidModificationError } from './factories/invalid-modification-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaRecorderConstructor } from './factories/media-recorder-constructor';\nimport { createNativeBlobEventConstructor } from './factories/native-blob-event-constructor';\nimport { createNativeMediaRecorderFactory } from './factories/native-media-recorder';\nimport { createNativeMediaRecorderConstructor } from './factories/native-media-recorder-constructor';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createReadElementContent } from './factories/read-element-content';\nimport { createReadElementType } from './factories/read-element-type';\nimport { createReadVariableSizeInteger } from './factories/read-variable-size-integer';\nimport { createWebAudioMediaRecorderFactory } from './factories/web-audio-media-recorder';\nimport { createWebmPcmMediaRecorderFactory } from './factories/webm-pcm-media-recorder';\nimport { createWindow } from './factories/window';\nimport { readVariableSizeIntegerLength } from './functions/read-variable-size-integer-length';\nimport { wrapEventListener } from './functions/wrap-event-listener';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\n\nexport * from './interfaces/index';\nexport * from './types/index';\nvar encoderRegexes = [];\nvar window = createWindow();\nvar nativeBlobEventConstructor = createNativeBlobEventConstructor(window);\nvar createBlobEvent = createBlobEventFactory(nativeBlobEventConstructor);\nvar createWebAudioMediaRecorder = createWebAudioMediaRecorderFactory(createBlobEvent, createInvalidModificationError, createInvalidStateError, createNotSupportedError);\nvar readVariableSizeInteger = createReadVariableSizeInteger(readVariableSizeIntegerLength);\nvar readElementContent = createReadElementContent(readVariableSizeInteger);\nvar readElementType = createReadElementType(readVariableSizeInteger);\nvar decodeWebMChunk = createDecodeWebMChunk(readElementContent, readElementType);\nvar createWebmPcmMediaRecorder = createWebmPcmMediaRecorderFactory(createBlobEvent, createInvalidModificationError, createNotSupportedError, decodeWebMChunk, readVariableSizeInteger);\nvar createEventTarget = createEventTargetFactory(window);\nvar nativeMediaRecorderConstructor = createNativeMediaRecorderConstructor(window);\nvar createNativeMediaRecorder = createNativeMediaRecorderFactory(createInvalidModificationError, createNotSupportedError);\nvar mediaRecorderConstructor = createMediaRecorderConstructor(createNativeMediaRecorder, createNotSupportedError, createWebAudioMediaRecorder, createWebmPcmMediaRecorder, encoderRegexes, createEventTargetConstructor(createEventTarget, wrapEventListener), nativeMediaRecorderConstructor);\nexport { mediaRecorderConstructor as MediaRecorder };\nexport var isSupported = function isSupported() {\n  return createIsSupportedPromise(window);\n};\nexport var register = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(port) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.t0 = encoderRegexes;\n            _context.next = 3;\n            return rgstr(port);\n\n          case 3:\n            _context.t1 = _context.sent;\n\n            _context.t0.push.call(_context.t0, _context.t1);\n\n          case 5:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function register(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["../../src/module.ts"],"names":[],"mappings":";;AAAA,SAAS,QAAQ,IAAI,KAArB,QAAkC,oBAAlC;AACA,SAAS,sBAAT,QAAuC,gCAAvC;AACA,SAAS,qBAAT,QAAsC,gCAAtC;AACA,SAAS,4BAAT,QAA6C,sCAA7C;AACA,SAAS,wBAAT,QAAyC,kCAAzC;AACA,SAAS,8BAAT,QAA+C,wCAA/C;AACA,SAAS,uBAAT,QAAwC,iCAAxC;AACA,SAAS,wBAAT,QAAyC,kCAAzC;AACA,SAAS,8BAAT,QAA+C,wCAA/C;AACA,SAAS,gCAAT,QAAiD,2CAAjD;AACA,SAAS,gCAAT,QAAiD,mCAAjD;AACA,SAAS,oCAAT,QAAqD,+CAArD;AACA,SAAS,uBAAT,QAAwC,iCAAxC;AACA,SAAS,wBAAT,QAAyC,kCAAzC;AACA,SAAS,qBAAT,QAAsC,+BAAtC;AACA,SAAS,6BAAT,QAA8C,wCAA9C;AACA,SAAS,kCAAT,QAAmD,sCAAnD;AACA,SAAS,iCAAT,QAAkD,qCAAlD;AACA,SAAS,YAAT,QAA6B,oBAA7B;AACA,SAAS,6BAAT,QAA8C,+CAA9C;AACA,SAAS,iBAAT,QAAkC,iCAAlC;AAGA;;;AAGG;;AACH,cAAc,oBAAd;AACA,cAAc,eAAd;AAEA,IAAM,cAAc,GAAa,EAAjC;AAEA,IAAM,MAAM,GAAG,YAAY,EAA3B;AACA,IAAM,0BAA0B,GAAG,gCAAgC,CAAC,MAAD,CAAnE;AACA,IAAM,eAAe,GAAG,sBAAsB,CAAC,0BAAD,CAA9C;AACA,IAAM,2BAA2B,GAAG,kCAAkC,CAClE,eADkE,EAElE,8BAFkE,EAGlE,uBAHkE,EAIlE,uBAJkE,CAAtE;AAMA,IAAM,uBAAuB,GAAG,6BAA6B,CAAC,6BAAD,CAA7D;AACA,IAAM,kBAAkB,GAAG,wBAAwB,CAAC,uBAAD,CAAnD;AACA,IAAM,eAAe,GAAG,qBAAqB,CAAC,uBAAD,CAA7C;AACA,IAAM,eAAe,GAAG,qBAAqB,CAAC,kBAAD,EAAqB,eAArB,CAA7C;AACA,IAAM,0BAA0B,GAAG,iCAAiC,CAChE,eADgE,EAEhE,8BAFgE,EAGhE,uBAHgE,EAIhE,eAJgE,EAKhE,uBALgE,CAApE;AAOA,IAAM,iBAAiB,GAAG,wBAAwB,CAAC,MAAD,CAAlD;AACA,IAAM,8BAA8B,GAAG,oCAAoC,CAAC,MAAD,CAA3E;AAEA,IAAM,yBAAyB,GAAG,gCAAgC,CAAC,8BAAD,EAAiC,uBAAjC,CAAlE;AACA,IAAM,wBAAwB,GAA8B,8BAA8B,CACtF,yBADsF,EAEtF,uBAFsF,EAGtF,2BAHsF,EAItF,0BAJsF,EAKtF,cALsF,EAMtF,4BAA4B,CAAC,iBAAD,EAAoB,iBAApB,CAN0D,EAOtF,8BAPsF,CAA1F;AAUA,SAAS,wBAAwB,IAAI,aAArC;AAEA,OAAO,IAAM,WAAW,GAAG,SAAd,WAAc;AAAA,SAAM,wBAAwB,CAAC,MAAD,CAA9B;AAAA,CAApB;AAEP,OAAO,IAAM,QAAQ;AAAA,sEAAG,iBAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA,0BACpB,cADoB;AAAA;AAAA,mBACM,KAAK,CAAC,IAAD,CADX;;AAAA;AAAA;;AAAA,wBACL,IADK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAR,QAAQ;AAAA;AAAA;AAAA,GAAd","sourceRoot":"","sourcesContent":["import { register as rgstr } from 'media-encoder-host';\nimport { createBlobEventFactory } from './factories/blob-event-factory';\nimport { createDecodeWebMChunk } from './factories/decode-web-m-chunk';\nimport { createEventTargetConstructor } from './factories/event-target-constructor';\nimport { createEventTargetFactory } from './factories/event-target-factory';\nimport { createInvalidModificationError } from './factories/invalid-modification-error';\nimport { createInvalidStateError } from './factories/invalid-state-error';\nimport { createIsSupportedPromise } from './factories/is-supported-promise';\nimport { createMediaRecorderConstructor } from './factories/media-recorder-constructor';\nimport { createNativeBlobEventConstructor } from './factories/native-blob-event-constructor';\nimport { createNativeMediaRecorderFactory } from './factories/native-media-recorder';\nimport { createNativeMediaRecorderConstructor } from './factories/native-media-recorder-constructor';\nimport { createNotSupportedError } from './factories/not-supported-error';\nimport { createReadElementContent } from './factories/read-element-content';\nimport { createReadElementType } from './factories/read-element-type';\nimport { createReadVariableSizeInteger } from './factories/read-variable-size-integer';\nimport { createWebAudioMediaRecorderFactory } from './factories/web-audio-media-recorder';\nimport { createWebmPcmMediaRecorderFactory } from './factories/webm-pcm-media-recorder';\nimport { createWindow } from './factories/window';\nimport { readVariableSizeIntegerLength } from './functions/read-variable-size-integer-length';\nimport { wrapEventListener } from './functions/wrap-event-listener';\n/*\n * @todo Explicitly referencing the barrel file seems to be necessary when enabling the\n * isolatedModules compiler option.\n */\nexport * from './interfaces/index';\nexport * from './types/index';\nconst encoderRegexes = [];\nconst window = createWindow();\nconst nativeBlobEventConstructor = createNativeBlobEventConstructor(window);\nconst createBlobEvent = createBlobEventFactory(nativeBlobEventConstructor);\nconst createWebAudioMediaRecorder = createWebAudioMediaRecorderFactory(createBlobEvent, createInvalidModificationError, createInvalidStateError, createNotSupportedError);\nconst readVariableSizeInteger = createReadVariableSizeInteger(readVariableSizeIntegerLength);\nconst readElementContent = createReadElementContent(readVariableSizeInteger);\nconst readElementType = createReadElementType(readVariableSizeInteger);\nconst decodeWebMChunk = createDecodeWebMChunk(readElementContent, readElementType);\nconst createWebmPcmMediaRecorder = createWebmPcmMediaRecorderFactory(createBlobEvent, createInvalidModificationError, createNotSupportedError, decodeWebMChunk, readVariableSizeInteger);\nconst createEventTarget = createEventTargetFactory(window);\nconst nativeMediaRecorderConstructor = createNativeMediaRecorderConstructor(window);\nconst createNativeMediaRecorder = createNativeMediaRecorderFactory(createInvalidModificationError, createNotSupportedError);\nconst mediaRecorderConstructor = createMediaRecorderConstructor(createNativeMediaRecorder, createNotSupportedError, createWebAudioMediaRecorder, createWebmPcmMediaRecorder, encoderRegexes, createEventTargetConstructor(createEventTarget, wrapEventListener), nativeMediaRecorderConstructor);\nexport { mediaRecorderConstructor as MediaRecorder };\nexport const isSupported = () => createIsSupportedPromise(window);\nexport const register = async (port) => {\n    encoderRegexes.push(await rgstr(port));\n};\n//# sourceMappingURL=module.js.map"]},"metadata":{},"sourceType":"module"}