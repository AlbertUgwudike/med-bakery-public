{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import{Box,Container}from\"./Common\";import styled from\"styled-components\";import{useContext,useState}from\"react\";import{countPoints}from\"./hooks\";import{FaCaretDown,FaCaretRight,FaCheckCircle,FaTimesCircle}from\"react-icons/fa\";import MetaContext from\"../../MetaContext\";import{useHistory}from\"react-router-dom\";import Header from\"./Header\";import SaveModal from\"./SaveModal\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MarkReviewPage=function MarkReviewPage(props){var _useContext=useContext(MetaContext),token=_useContext.token;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),displayLoginOption=_useState2[0],updateDisplayLoginOption=_useState2[1];var masterMarkScheme=props.station.questions.map(function(q){return q.markScheme;}).flat();var _countPoints=countPoints(masterMarkScheme),_countPoints2=_slicedToArray(_countPoints,2),selected=_countPoints2[0],total=_countPoints2[1];var _useContext2=useContext(MetaContext),narrowWindow=_useContext2.narrowWindow;var history=useHistory();var questionCount=props.station.questions.length;var nextFunc=function nextFunc(){};var prevFunc=function prevFunc(){props.updateIdx(questionCount-1);history.push(\"/OSCE/Station/Review\");};var passed=selected>total*0.4;return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{updateStation:props.updateStation,station:props.station,handleExit:props.handleExit,title:\"Summary\",percentage:100,timer:false,nextFunc:nextFunc,prevFunc:prevFunc}),/*#__PURE__*/_jsxs(Box,{style:{height:narrowWindow?\"500px\":\"700px\",overflow:\"scroll\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:\"20px\",margin:\"10px\"},children:passed?\"You: Passed!\":\"You did not Pass.\"}),passed?/*#__PURE__*/_jsx(FaCheckCircle,{color:\"green\"}):/*#__PURE__*/_jsx(FaTimesCircle,{color:\"red\"})]}),/*#__PURE__*/_jsx(\"br\",{}),masterMarkScheme.map(function(section){return/*#__PURE__*/_jsx(DropDown,{section:section});}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(ResultsBox,{children:[\"Total : \",selected,\" / \",total]}),/*#__PURE__*/_jsx(ExitButton,{onClick:function onClick(){var _props$station;return token?props.handleExit((_props$station=props.station)===null||_props$station===void 0?void 0:_props$station.questions,token):updateDisplayLoginOption(true);},children:\"Done\"}),displayLoginOption&&/*#__PURE__*/_jsx(SaveModal,{handleExit:props.handleExit,station:props.station,close:function close(){return updateDisplayLoginOption(false);}})]})]});};export default MarkReviewPage;var ResultsBox=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    border: 2px solid #fad000;\\n    width: 190px;\\n    margin: auto;\\n    padding: 5px;\\n    text-align: center;\\n    border-radius: 5px;\\n\"])));var DropDown=function DropDown(props){var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),expanded=_useState4[0],updateExpanded=_useState4[1];var renderSchemePoint=function renderSchemePoint(schemePoint){return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",alignItems:\"center\",marginBottom:\"15px\"},children:[/*#__PURE__*/_jsx(SchemePoint,{children:schemePoint.point}),/*#__PURE__*/_jsx(\"div\",{children:schemePoint.selected?/*#__PURE__*/_jsx(FaCheckCircle,{color:\"green\"}):/*#__PURE__*/_jsx(FaTimesCircle,{color:\"red\"})})]});};return/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"10px 0\"},children:[/*#__PURE__*/_jsxs(Title,{onClick:function onClick(){return updateExpanded(!expanded);},children:[expanded?/*#__PURE__*/_jsx(FaCaretDown,{}):/*#__PURE__*/_jsx(FaCaretRight,{}),\"\\xA0 \",props.section.title]}),/*#__PURE__*/_jsx(\"div\",{style:{display:expanded?\"block\":\"none\",margin:expanded?\"20px 0\":\"0\",padding:\"0 10%\"},children:props.section.points.map(renderSchemePoint)})]});};var Title=styled.button(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: #031B34;\\n    border-radius: 5px;\\n    border: 2px #81AFDD;\\n    height: 35px;\\n    align-content: center;\\n    margin: auto;\\n    width: 100%;\\n    color: white;\\n    border: 2px solid grey;\\n\"])));var SchemePoint=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    color: #FFFF;\\n    font-size: 13px;\\n    margin: 0 5px;\\n\"])));export var ExitButton=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    font-size: 23px;    \\n    display: inline-block;\\n    text-align: center;\\n    border: 2px solid grey;\\n    width: 80px;\\n    color: #;\\n    border-radius: px;\\n    height: max-content;\\n    border-radius: 5px;\\n    margin: 15px 5px;\\n\"])));","map":{"version":3,"sources":["/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/MarkReviewPage.tsx"],"names":["Box","Container","styled","useContext","useState","countPoints","FaCaretDown","FaCaretRight","FaCheckCircle","FaTimesCircle","MetaContext","useHistory","Header","SaveModal","MarkReviewPage","props","token","displayLoginOption","updateDisplayLoginOption","masterMarkScheme","station","questions","map","q","markScheme","flat","selected","total","narrowWindow","history","questionCount","length","nextFunc","prevFunc","updateIdx","push","passed","updateStation","handleExit","height","overflow","display","justifyContent","alignItems","fontSize","margin","section","ResultsBox","div","DropDown","expanded","updateExpanded","renderSchemePoint","schemePoint","marginBottom","point","title","padding","points","Title","button","SchemePoint","ExitButton"],"mappings":"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","sourcesContent":["import { Box, Container } from \"./Common\";\nimport { MarkSchemeSection, Question, Station } from \"./types\";\nimport styled from \"styled-components\";\nimport { Dispatch, SetStateAction, useContext, useState,  } from \"react\";\nimport { countPoints } from \"./hooks\";\nimport { FaCaretDown, FaCaretRight, FaCheckCircle, FaTimesCircle } from \"react-icons/fa\";\nimport MetaContext from \"../../MetaContext\";\nimport { useHistory } from \"react-router-dom\";\nimport Header from \"./Header\";\nimport SaveModal from \"./SaveModal\";\n\ntype MarkReviewProps = {\n    questionIdx: number;\n    updateIdx: Dispatch<SetStateAction<number>>;\n    station: Station;\n    updateStation: Dispatch<SetStateAction<Station>>;\n    reviewMode: boolean;\n    handleExit: (questions: Question[], tok: string) => void;\n};\n\nconst MarkReviewPage = (props: MarkReviewProps) => {\n    const { token } = useContext(MetaContext);\n    const [displayLoginOption, updateDisplayLoginOption] = useState(false);\n    const masterMarkScheme = props.station.questions.map(q => q.markScheme).flat();\n    const [selected, total] = countPoints(masterMarkScheme);\n    const { narrowWindow } = useContext(MetaContext);\n\n    const history = useHistory();\n    const questionCount = props.station.questions.length;\n\n    const nextFunc = () => {};\n\n    const prevFunc = () => {\n        props.updateIdx(questionCount - 1);\n        history.push(\"/OSCE/Station/Review\");\n    };\n\n    const passed = selected > total * 0.4;\n\n    return (\n        <Container>\n            <Header\n                updateStation={props.updateStation}\n                station={props.station}\n                handleExit={props.handleExit}\n                title={\"Summary\"}\n                percentage={100}\n                timer={false}\n                nextFunc={nextFunc}\n                prevFunc={prevFunc}\n            />\n\n            <Box style={{ height: narrowWindow ? \"500px\" : \"700px\", overflow: \"scroll\" }}>\n                <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\" }}>\n                    <div style={{ fontSize: \"20px\", margin: \"10px\" }}>\n                        {passed ? \"You: Passed!\" : \"You did not Pass.\"}\n                    </div>\n\n                    {passed ? <FaCheckCircle color=\"green\" /> : <FaTimesCircle color=\"red\" />}\n                </div>\n\n                <br />\n\n                {masterMarkScheme.map(section => (\n                    <DropDown section={section} />\n                ))}\n\n                <br />\n                <br />\n\n                <ResultsBox>\n                    Total : {selected} / {total}\n                </ResultsBox>\n\n                <ExitButton\n                    onClick={() =>\n                        token\n                            ? props.handleExit(props.station?.questions, token)\n                            : updateDisplayLoginOption(true)\n                    }\n                >\n                    Done\n                </ExitButton>\n\n            {displayLoginOption && (\n                <SaveModal\n                    handleExit={props.handleExit}\n                    station={props.station}\n                    close={() => updateDisplayLoginOption(false)}\n                />\n            )}\n\n            </Box>\n            \n        </Container>\n        \n    );\n};\n\nexport default MarkReviewPage;\n\nconst ResultsBox = styled.div`\n    border: 2px solid #fad000;\n    width: 190px;\n    margin: auto;\n    padding: 5px;\n    text-align: center;\n    border-radius: 5px;\n`;\n\nconst DropDown = (props: { section: MarkSchemeSection }) => {\n    const [expanded, updateExpanded] = useState(true);\n\n    const renderSchemePoint = (schemePoint: {\n        point: string;\n        selected: boolean;\n        pointId: number;\n    }) => (\n        <div\n            style={{\n                display: \"flex\",\n                justifyContent: \"space-between\",\n                alignItems: \"center\",\n                marginBottom: \"15px\",\n            }}\n        >\n            <SchemePoint>{schemePoint.point}</SchemePoint>\n            <div>\n                {schemePoint.selected ? (\n                    <FaCheckCircle color=\"green\" />\n                ) : (\n                    <FaTimesCircle color=\"red\" />\n                )}\n            </div>\n        </div>\n    );\n\n    return (\n        <div style={{ margin: \"10px 0\" }}>\n            <Title onClick={() => updateExpanded(!expanded)}>\n                {expanded ? <FaCaretDown /> : <FaCaretRight />}\n                &nbsp; {props.section.title}\n            </Title>\n\n            <div\n                style={{\n                    display: expanded ? \"block\" : \"none\",\n                    margin: expanded ? \"20px 0\" : \"0\",\n                    padding: \"0 10%\",\n                }}\n            >\n                {props.section.points.map(renderSchemePoint)}\n            </div>\n        </div>\n    );\n};\n\nconst Title = styled.button`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background-color: #031B34;\n    border-radius: 5px;\n    border: 2px #81AFDD;\n    height: 35px;\n    align-content: center;\n    margin: auto;\n    width: 100%;\n    color: white;\n    border: 2px solid grey;\n`;\n\nconst SchemePoint = styled.div`\n    color: #FFFF;\n    font-size: 13px;\n    margin: 0 5px;\n`;\nexport const ExitButton = styled.div`\n    font-size: 23px;    \n    display: inline-block;\n    text-align: center;\n    border: 2px solid grey;\n    width: 80px;\n    color: #;\n    border-radius: px;\n    height: max-content;\n    border-radius: 5px;\n    margin: 15px 5px;\n`;\n"]},"metadata":{},"sourceType":"module"}