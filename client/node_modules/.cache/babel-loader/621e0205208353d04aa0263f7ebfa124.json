{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/albert/projects/med-bakery-react/client/src/components/HomePage/LoginLogout.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject,\n    _s2 = $RefreshSig$(),\n    _templateObject2;\n\nimport { GoogleLogin, GoogleLogout } from \"react-google-login\";\nimport axios from \"../../myaxios\";\nimport styled from \"styled-components\";\nimport { FaSignOutAlt } from \"react-icons/fa\";\nimport { useContext } from \"react\";\nimport MetaContext from \"../../MetaContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar clientID = \"439563851182-mo2cj9djg7f0u19ctnjp1864tdaredkc.apps.googleusercontent.com\";\nexport var Login = function Login(props) {\n  _s();\n\n  var _useContext = useContext(MetaContext),\n      SERVER_URL = _useContext.SERVER_URL,\n      setToken = _useContext.setToken;\n\n  var onSuccess = function onSuccess(res) {\n    axios.post(SERVER_URL + \"/user/googlelogin\", {\n      token: res.tokenId\n    }).then(function (axres) {\n      if (axres.data.success) {\n        setToken(res.tokenId);\n        if (props.successCallback) props.successCallback(res.tokenId);\n      }\n    });\n  };\n\n  var onFailure = function onFailure(res) {\n    console.log(\"err: \", res);\n  };\n\n  return /*#__PURE__*/_jsxDEV(GoogleLogin, {\n    clientId: clientID,\n    buttonText: \"LOGIN\",\n    onSuccess: onSuccess,\n    onFailure: onFailure,\n    isSignedIn: true,\n    render: function render(propss) {\n      return /*#__PURE__*/_jsxDEV(LoginButton, {\n        onClick: propss.onClick,\n        disabled: propss.disabled,\n        id: \"loginboi\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: props.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(Login, \"V8TnjXvgYw29pmyDEzCURHav7go=\");\n\n_c = Login;\nexport var LoginButton = styled.button(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    text-align: center;\\n    margin: 10px 10%;\\n    border-radius: 25px;\\n    padding: 0 50px;\\n    height: 30px;\\n    border: 2px solid grey;\\n    color: #fad000;\\n    background-color: transparent;\\n\"])));\n_c2 = LoginButton;\nexport var Logout = function Logout(props) {\n  _s2();\n\n  var _useContext2 = useContext(MetaContext),\n      darkMode = _useContext2.darkMode;\n\n  var onSuccess = function onSuccess() {\n    console.log(\"we logged out!\");\n    props.setToken(\"\");\n    window.analytics.track({\n      userId: clientID,\n      event: \"User Logged out\"\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(GoogleLogout, {\n    clientId: clientID,\n    buttonText: \"LOGOUT\",\n    onLogoutSuccess: onSuccess,\n    render: function render(prps) {\n      return /*#__PURE__*/_jsxDEV(LogoutButton, {\n        darkMode: darkMode,\n        onClick: prps.onClick,\n        disabled: prps.disabled,\n        children: [/*#__PURE__*/_jsxDEV(FaSignOutAlt, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, _this), \" \\xA0 Logout \\xA0\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, _this);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, _this);\n};\n\n_s2(Logout, \"PnQ/ys69gTWC7ND+ZGDKVPZ9Xno=\");\n\n_c3 = Logout;\nvar LogoutButton = styled.button(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    text-align: center;\\n    margin: 30px 10%;\\n    border-radius: 25px;\\n    width: 150px;\\n    height: 30px;\\n    border: 2px solid grey;\\n    color: #fad000;\\n    background-color: transparent;\\n\"])));\n_c4 = LogoutButton;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"LoginButton\");\n$RefreshReg$(_c3, \"Logout\");\n$RefreshReg$(_c4, \"LogoutButton\");","map":{"version":3,"sources":["/Users/albert/projects/med-bakery-react/client/src/components/HomePage/LoginLogout.tsx"],"names":["GoogleLogin","GoogleLogout","axios","styled","FaSignOutAlt","useContext","MetaContext","clientID","Login","props","SERVER_URL","setToken","onSuccess","res","post","token","tokenId","then","axres","data","success","successCallback","onFailure","console","log","propss","onClick","disabled","label","LoginButton","button","Logout","darkMode","window","analytics","track","userId","event","prps","LogoutButton"],"mappings":"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","sourcesContent":["import {\n    GoogleLogin,\n    GoogleLoginResponse,\n    GoogleLoginResponseOffline,\n    GoogleLogout,\n} from \"react-google-login\";\nimport axios from \"../../myaxios\";\nimport styled from \"styled-components\";\nimport { FaSignOutAlt } from \"react-icons/fa\";\nimport { useContext, useState } from \"react\";\nimport MetaContext from \"../../MetaContext\";\n\nconst clientID = \"439563851182-mo2cj9djg7f0u19ctnjp1864tdaredkc.apps.googleusercontent.com\";\n\ntype LoginProps = {\n    label: string;\n    successCallback?: (token: string) => void;\n};\n\nexport const Login = (props: LoginProps) => {\n    const { SERVER_URL, setToken } = useContext(MetaContext);\n\n    const onSuccess = (res: any) => {\n        axios.post(SERVER_URL + \"/user/googlelogin\", { token: res.tokenId }).then(axres => {\n            if (axres.data.success) {\n                setToken(res.tokenId);\n                if (props.successCallback) props.successCallback(res.tokenId);\n            }\n        });\n    };\n\n    const onFailure = (res: any) => {\n        console.log(\"err: \", res);\n    };\n\n    return (\n        <GoogleLogin\n            clientId={clientID}\n            buttonText=\"LOGIN\"\n            onSuccess={onSuccess}\n            onFailure={onFailure}\n            isSignedIn={true}\n            render={propss => (\n                <LoginButton onClick={propss.onClick} disabled={propss.disabled} id=\"loginboi\">\n                    <div>{props.label}</div>\n                </LoginButton>\n            )}\n        />\n    );\n};\n\nexport const LoginButton = styled.button`\n    text-align: center;\n    margin: 10px 10%;\n    border-radius: 25px;\n    padding: 0 50px;\n    height: 30px;\n    border: 2px solid grey;\n    color: #fad000;\n    background-color: transparent;\n`;\n\nexport const Logout = (props: { setToken: (userToken: string) => void; darkMode: boolean }) => {\n    const { darkMode } = useContext(MetaContext);\n\n    const onSuccess = () => {\n        console.log(\"we logged out!\");\n        props.setToken(\"\");\n        window.analytics.track({\n            userId: clientID,\n            event: \"User Logged out\",\n        });\n    };\n\n    return (\n        <GoogleLogout\n            clientId={clientID}\n            buttonText=\"LOGOUT\"\n            onLogoutSuccess={onSuccess}\n            render={prps => (\n                <LogoutButton darkMode={darkMode} onClick={prps.onClick} disabled={prps.disabled}>\n                    <FaSignOutAlt /> &nbsp; Logout &nbsp;\n                </LogoutButton>\n            )}\n        />\n    );\n};\n\nconst LogoutButton = styled.button<{ darkMode: boolean }>`\n    text-align: center;\n    margin: 30px 10%;\n    border-radius: 25px;\n    width: 150px;\n    height: 30px;\n    border: 2px solid grey;\n    color: #fad000;\n    background-color: transparent;\n`;\n"]},"metadata":{},"sourceType":"module"}