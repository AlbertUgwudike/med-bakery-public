{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/TaskSection.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject;\n\nimport { useContext, useEffect } from \"react\";\nimport { FaMicrophone, FaPause, FaPlay } from \"react-icons/fa\";\nimport styled from \"styled-components\";\nimport MetaContext from \"../../MetaContext\";\nimport { Box } from \"./Common\";\nimport { generateWaveSurfer } from \"./hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar TaskSection = function TaskSection(props) {\n  _s();\n\n  var _useContext = useContext(MetaContext),\n      narrowWindow = _useContext.narrowWindow;\n\n  useEffect(function () {\n    var container = document.getElementById(\"waveform\");\n    if (container) container.innerHTML = \"\";\n    props.updateAudioState(function (as) {\n      return _objectSpread(_objectSpread({}, as), {}, {\n        responseWaveSurfer: generateWaveSurfer(\"waveform\", props.responseAudio, props.stopEverything)\n      });\n    });\n  }, [props.responseAudio]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        onClick: props.playing ? props.stopEverything : props.playResponse,\n        style: {\n          margin: \"10px 0\",\n          width: \"10%\"\n        },\n        children: props.playing ? /*#__PURE__*/_jsxDEV(FaPause, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 38\n        }, _this) : /*#__PURE__*/_jsxDEV(FaPlay, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 52\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(Box, {\n        style: {\n          margin: \"10px 0\",\n          width: \"87%\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"waveform\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"center\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Control, {\n        onClick: props.recording ? props.stopEverything : props.recordResponse,\n        narrowWindow: narrowWindow,\n        children: [/*#__PURE__*/_jsxDEV(FaMicrophone, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, _this), \" \\xA0\", props.loadingRecorder && \"Please Wait....\", props.recording && \"Answer now!\", !(props.loadingRecorder || props.recording) && \"Click to answer!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(TaskSection, \"3z/7vW3kAepdWdcVY5Vb7hk69Lo=\");\n\n_c = TaskSection;\nexport default TaskSection;\nvar Control = styled.button(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    background-color: #414142;\\n    border-radius: 5px;\\n    height: 35px;\\n    align-content: center;\\n    margin: auto;\\n    width: 45%;\\n    border: 1px solid #414142;\\n    color: #fad000;\\n    font-size: \", \";\\n\"])), function (props) {\n  return props.narrowWindow ? \"12px\" : \"15px\";\n});\n_c2 = Control;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"TaskSection\");\n$RefreshReg$(_c2, \"Control\");","map":{"version":3,"sources":["/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/TaskSection.tsx"],"names":["useContext","useEffect","FaMicrophone","FaPause","FaPlay","styled","MetaContext","Box","generateWaveSurfer","TaskSection","props","narrowWindow","container","document","getElementById","innerHTML","updateAudioState","as","responseWaveSurfer","responseAudio","stopEverything","display","justifyContent","playing","playResponse","margin","width","recording","recordResponse","loadingRecorder","Control","button"],"mappings":";;;;;;;;AAAA,SAAmCA,UAAnC,EAA+CC,SAA/C,QAAgE,OAAhE;AACA,SAASC,YAAT,EAAuBC,OAAvB,EAAgCC,MAAhC,QAA8C,gBAA9C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,SAASC,GAAT,QAAoB,UAApB;AACA,SAASC,kBAAT,QAAmC,SAAnC;;;;AAeA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAA6B;AAAA;;AAC7C,oBAAyBV,UAAU,CAACM,WAAD,CAAnC;AAAA,MAAQK,YAAR,eAAQA,YAAR;;AAEAV,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAMW,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAlB;AACA,QAAIF,SAAJ,EAAeA,SAAS,CAACG,SAAV,GAAsB,EAAtB;AAEfL,IAAAA,KAAK,CAACM,gBAAN,CAAuB,UAAAC,EAAE;AAAA,6CAClBA,EADkB;AAErBC,QAAAA,kBAAkB,EAAEV,kBAAkB,CAClC,UADkC,EAElCE,KAAK,CAACS,aAF4B,EAGlCT,KAAK,CAACU,cAH4B;AAFjB;AAAA,KAAzB;AAQH,GAZQ,EAYN,CAACV,KAAK,CAACS,aAAP,CAZM,CAAT;AAcA,sBACI;AAAA,4BACI;AAAK,MAAA,KAAK,EAAE;AAAEE,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,cAAc,EAAE;AAAnC,OAAZ;AAAA,8BACI,QAAC,GAAD;AACI,QAAA,OAAO,EAAEZ,KAAK,CAACa,OAAN,GAAgBb,KAAK,CAACU,cAAtB,GAAuCV,KAAK,CAACc,YAD1D;AAEI,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE,QAAV;AAAoBC,UAAAA,KAAK,EAAE;AAA3B,SAFX;AAAA,kBAIKhB,KAAK,CAACa,OAAN,gBAAgB,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,iBAAhB,gBAA8B,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAJnC;AAAA;AAAA;AAAA;AAAA,eADJ,eAOI,QAAC,GAAD;AAAK,QAAA,KAAK,EAAE;AAAEE,UAAAA,MAAM,EAAE,QAAV;AAAoBC,UAAAA,KAAK,EAAE;AAA3B,SAAZ;AAAA,+BACI;AAAK,UAAA,EAAE,EAAC;AAAR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,eAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,aADJ,eAYI;AAAK,MAAA,KAAK,EAAE;AAAEL,QAAAA,OAAO,EAAE,MAAX;AAAmBC,QAAAA,cAAc,EAAE;AAAnC,OAAZ;AAAA,6BACI,QAAC,OAAD;AACI,QAAA,OAAO,EAAEZ,KAAK,CAACiB,SAAN,GAAkBjB,KAAK,CAACU,cAAxB,GAAyCV,KAAK,CAACkB,cAD5D;AAEI,QAAA,YAAY,EAAEjB,YAFlB;AAAA,gCAII,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,iBAJJ,WAKKD,KAAK,CAACmB,eAAN,IAAyB,iBAL9B,EAMKnB,KAAK,CAACiB,SAAN,IAAmB,aANxB,EAOK,EAAEjB,KAAK,CAACmB,eAAN,IAAyBnB,KAAK,CAACiB,SAAjC,KAA+C,kBAPpD;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,aAZJ;AAAA,kBADJ;AA0BH,CA3CD;;GAAMlB,W;;KAAAA,W;AA6CN,eAAeA,WAAf;AAEA,IAAMqB,OAAO,GAAGzB,MAAM,CAAC0B,MAAV,+RASI,UAAArB,KAAK;AAAA,SAAKA,KAAK,CAACC,YAAN,GAAqB,MAArB,GAA8B,MAAnC;AAAA,CATT,CAAb;MAAMmB,O","sourcesContent":["import { Dispatch, SetStateAction, useContext, useEffect } from \"react\";\nimport { FaMicrophone, FaPause, FaPlay } from \"react-icons/fa\";\nimport styled from \"styled-components\";\nimport MetaContext from \"../../MetaContext\";\nimport { Box } from \"./Common\";\nimport { generateWaveSurfer } from \"./hooks\";\nimport { AudioState } from \"./QuestionContent\";\nimport { responseId } from \"./types\";\n\ntype TaskSectionProps = {\n    recording: boolean;\n    recordResponse: () => void;\n    playing: boolean;\n    playResponse: () => void;\n    stopEverything: () => void;\n    responseAudio: string;\n    loadingRecorder: boolean;\n    updateAudioState: Dispatch<SetStateAction<AudioState>>;\n};\n\nconst TaskSection = (props: TaskSectionProps) => {\n    const { narrowWindow } = useContext(MetaContext);\n\n    useEffect(() => {\n        const container = document.getElementById(\"waveform\");\n        if (container) container.innerHTML = \"\";\n\n        props.updateAudioState(as => ({\n            ...as,\n            responseWaveSurfer: generateWaveSurfer(\n                \"waveform\",\n                props.responseAudio,\n                props.stopEverything\n            ),\n        }));\n    }, [props.responseAudio]);\n\n    return (\n        <>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                <Box\n                    onClick={props.playing ? props.stopEverything : props.playResponse}\n                    style={{ margin: \"10px 0\", width: \"10%\" }}\n                >\n                    {props.playing ? <FaPause /> : <FaPlay />}\n                </Box>\n                <Box style={{ margin: \"10px 0\", width: \"87%\" }}>\n                    <div id=\"waveform\"></div>\n                </Box>\n            </div>\n            <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n                <Control\n                    onClick={props.recording ? props.stopEverything : props.recordResponse}\n                    narrowWindow={narrowWindow}\n                >\n                    <FaMicrophone /> &nbsp;\n                    {props.loadingRecorder && \"Please Wait....\"}\n                    {props.recording && \"Answer now!\"}\n                    {!(props.loadingRecorder || props.recording) && \"Click to answer!\"}\n                </Control>\n            </div>\n        </>\n    );\n};\n\nexport default TaskSection;\n\nconst Control = styled.button<{ narrowWindow: boolean }>`\n    background-color: #414142;\n    border-radius: 5px;\n    height: 35px;\n    align-content: center;\n    margin: auto;\n    width: 45%;\n    border: 1px solid #414142;\n    color: #fad000;\n    font-size: ${props => (props.narrowWindow ? \"12px\" : \"15px\")};\n`;\n"]},"metadata":{},"sourceType":"module"}