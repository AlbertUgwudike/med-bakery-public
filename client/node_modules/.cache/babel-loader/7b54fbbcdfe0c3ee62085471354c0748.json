{"ast":null,"code":"export var createOnline = function createOnline(emitNotSupportedError, window, wrapSubscribeFunction) {\n  return function () {\n    return wrapSubscribeFunction(function (observer) {\n      if (window === null || window.navigator === undefined || window.navigator.onLine === undefined) {\n        return emitNotSupportedError(observer);\n      }\n\n      var emitFalse = function emitFalse() {\n        return observer.next(false);\n      };\n\n      var emitTrue = function emitTrue() {\n        return observer.next(true);\n      };\n\n      window.addEventListener('offline', emitFalse);\n      window.addEventListener('online', emitTrue);\n      observer.next(window.navigator.onLine);\n      return function () {\n        window.removeEventListener('offline', emitFalse);\n        window.removeEventListener('online', emitTrue);\n      };\n    });\n  };\n};","map":{"version":3,"sources":["../../../src/factories/online.ts"],"names":[],"mappings":"AAEA,OAAO,IAAM,YAAY,GAAmB,SAA/B,YAA+B,CAAC,qBAAD,EAAwB,MAAxB,EAAgC,qBAAhC,EAAyD;AACjG,SAAO;AAAA,WACH,qBAAqB,CAAC,UAAC,QAAD,EAAa;AAC/B,UAAI,MAAM,KAAK,IAAX,IAAmB,MAAM,CAAC,SAAP,KAAqB,SAAxC,IAAqD,MAAM,CAAC,SAAP,CAAiB,MAAjB,KAA4B,SAArF,EAAgG;AAC5F,eAAO,qBAAqB,CAAC,QAAD,CAA5B;AACH;;AAED,UAAM,SAAS,GAAG,SAAZ,SAAY;AAAA,eAAM,QAAQ,CAAC,IAAT,CAAc,KAAd,CAAN;AAAA,OAAlB;;AACA,UAAM,QAAQ,GAAG,SAAX,QAAW;AAAA,eAAM,QAAQ,CAAC,IAAT,CAAc,IAAd,CAAN;AAAA,OAAjB;;AAEA,MAAA,MAAM,CAAC,gBAAP,CAAwB,SAAxB,EAAmC,SAAnC;AACA,MAAA,MAAM,CAAC,gBAAP,CAAwB,QAAxB,EAAkC,QAAlC;AAEA,MAAA,QAAQ,CAAC,IAAT,CAAc,MAAM,CAAC,SAAP,CAAiB,MAA/B;AAEA,aAAO,YAAK;AACR,QAAA,MAAM,CAAC,mBAAP,CAA2B,SAA3B,EAAsC,SAAtC;AACA,QAAA,MAAM,CAAC,mBAAP,CAA2B,QAA3B,EAAqC,QAArC;AACH,OAHD;AAIH,KAjBoB,CADlB;AAAA,GAAP;AAmBH,CApBM","sourceRoot":"","sourcesContent":["export const createOnline = (emitNotSupportedError, window, wrapSubscribeFunction) => {\n    return () => wrapSubscribeFunction((observer) => {\n        if (window === null || window.navigator === undefined || window.navigator.onLine === undefined) {\n            return emitNotSupportedError(observer);\n        }\n        const emitFalse = () => observer.next(false);\n        const emitTrue = () => observer.next(true);\n        window.addEventListener('offline', emitFalse);\n        window.addEventListener('online', emitTrue);\n        observer.next(window.navigator.onLine);\n        return () => {\n            window.removeEventListener('offline', emitFalse);\n            window.removeEventListener('online', emitTrue);\n        };\n    });\n};\n//# sourceMappingURL=online.js.map"]},"metadata":{},"sourceType":"module"}