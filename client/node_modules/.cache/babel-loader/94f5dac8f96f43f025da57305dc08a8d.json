{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/StationSummaryCard.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _templateObject4;\n\nimport { useContext } from \"react\";\nimport { FaCheckCircle, FaMinusCircle, FaTimesCircle } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport MetaContext from \"../../MetaContext\";\nimport { getBinaryDigits, markPercentage } from \"./hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar StationSummaryCard = function StationSummaryCard(props) {\n  _s();\n\n  var _useContext = useContext(MetaContext),\n      SERVER_URL = _useContext.SERVER_URL;\n\n  var matches = props.answeredStations.filter(function (s) {\n    return s.id === props.summary.id;\n  });\n  var percentage = matches.length === 0 ? 0 : markPercentage(matches[0].markCode);\n  var marks = matches.length === 0 ? [] : getBinaryDigits(matches[0].markCode).slice(1);\n\n  var handleClick = function handleClick(review) {\n    props.selectStation(props.summary.id, {\n      review: review,\n      marks: marks\n    });\n  };\n\n  var completnessSymbol = /*#__PURE__*/_jsxDEV(FaMinusCircle, {\n    color: \"#505050\",\n    size: 20\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 29\n  }, _this);\n\n  if (!isNaN(percentage) && props.available) {\n    completnessSymbol = percentage < 50 ? /*#__PURE__*/_jsxDEV(FaTimesCircle, {\n      color: \"red\",\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, _this) : /*#__PURE__*/_jsxDEV(FaCheckCircle, {\n      color: \"green\",\n      size: 20\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(StationPanel, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"20px 0 20px 20px\",\n        display: \"flex\",\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: completnessSymbol\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, _this), \" \\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 15\n        },\n        children: props.summary.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: props.available ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Percent, {\n          color: percentage > 50 ? \"green\" : \"red\",\n          children: [isNaN(percentage) ? \"--\" : percentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/OSCE/Station/Brief\",\n            style: {\n              display: \"block\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"#FAD000\",\n              onClick: function onClick() {\n                return handleClick(false);\n              },\n              children: \"Start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, _this), matches.length > 0 && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/OSCE/Station/Summary\",\n            style: {\n              display: \"block\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              color: \"grey\",\n              onClick: function onClick() {\n                return handleClick(true);\n              },\n              children: \"Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 37\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 33\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }, _this) : /*#__PURE__*/_jsxDEV(Premium, {\n        color: \"#FAD000\",\n        style: {\n          backgroundColor: \"#FAAD29\",\n          color: \"#000000\"\n        },\n        onClick: props.openSubscribeModal,\n        children: \"Premium\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(StationSummaryCard, \"eICSKTBQ36V3gAq74Fgx3hoxWBI=\");\n\n_c = StationSummaryCard;\nexport default StationSummaryCard;\nvar StationPanel = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n    background-color: #1c2124;\\n    color: white;\\n    border-style: none;\\n    border-radius: 10px;\\n    width: 100%;\\n    max-width: 400px;\\n    margin: 0 20px 20px 0;\\n\"])));\n_c2 = StationPanel;\nvar Button = styled.button(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    text-align: center;\\n    margin: 5px 10px 5px 0;\\n    border-radius: 8px;\\n    padding: 0 10px;\\n    height: 30px;\\n    width: 75px;\\n    border: 1px solid grey;\\n    color: \", \";\\n    background-color: transparent;\\n\"])), function (props) {\n  return props.color;\n});\n_c3 = Button;\nvar Percent = styled.button(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n    text-align: center;\\n    margin: 5px 10px 5px 0;\\n    border-radius: 8px;\\n    padding: 0 10px;\\n    height: 30px;\\n    border: 1px solid grey;\\n    color: \", \";\\n    background-color: transparent;\\n\"])), function (props) {\n  return props.color;\n});\n_c4 = Percent;\nvar Premium = styled.button(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n    text-align: center;\\n    margin: 5px 10px 5px 0;\\n    border-radius: 8px;\\n    padding: 0 10px;\\n    border: 1px solid grey;\\n    color: #fad000;\\n    background-color: #fad000;\\n    width: 100px;\\n\"])));\n_c5 = Premium;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"StationSummaryCard\");\n$RefreshReg$(_c2, \"StationPanel\");\n$RefreshReg$(_c3, \"Button\");\n$RefreshReg$(_c4, \"Percent\");\n$RefreshReg$(_c5, \"Premium\");","map":{"version":3,"sources":["/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/StationSummaryCard.tsx"],"names":["useContext","FaCheckCircle","FaMinusCircle","FaTimesCircle","Link","styled","MetaContext","getBinaryDigits","markPercentage","StationSummaryCard","props","SERVER_URL","matches","answeredStations","filter","s","id","summary","percentage","length","markCode","marks","slice","handleClick","review","selectStation","completnessSymbol","isNaN","available","margin","display","alignItems","fontSize","title","backgroundColor","color","openSubscribeModal","StationPanel","div","Button","button","Percent","Premium"],"mappings":"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","sourcesContent":["import { Dispatch, SetStateAction, useContext, useEffect, useState } from \"react\";\nimport { FaCheckCircle, FaMinusCircle, FaTimesCircle } from \"react-icons/fa\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport MetaContext from \"../../MetaContext\";\nimport { getBinaryDigits, markPercentage } from \"./hooks\";\nimport { AnsweredStationDetails } from \"./types\";\n\ntype StationSummaryCardProps = {\n    summary: {\n        id: string;\n        thumbnail: string;\n        title: string;\n    };\n    selectStation: (id: string, options: { review: boolean; marks: (0 | 1)[] }) => void;\n    answeredStations: AnsweredStationDetails[];\n    available: boolean;\n    openSubscribeModal: () => void;\n};\n\nconst StationSummaryCard = (props: StationSummaryCardProps) => {\n    const { SERVER_URL } = useContext(MetaContext);\n\n    const matches = props.answeredStations.filter(s => s.id === props.summary.id);\n    const percentage = matches.length === 0 ? 0 : markPercentage(matches[0].markCode);\n    const marks = matches.length === 0 ? [] : getBinaryDigits(matches[0].markCode).slice(1);\n\n    const handleClick = (review: boolean) => {\n        props.selectStation(props.summary.id, { review, marks });\n    };\n\n    let completnessSymbol = <FaMinusCircle color=\"#505050\" size={20} />;\n    if (!isNaN(percentage) && props.available) {\n        completnessSymbol =\n            percentage < 50 ? (\n                <FaTimesCircle color=\"red\" size={20} />\n            ) : (\n                <FaCheckCircle color=\"green\" size={20} />\n            );\n    }\n\n    return (\n        <StationPanel>\n            <div style={{ margin: \"20px 0 20px 20px\", display: \"flex\", alignItems: \"center\" }}>\n                <div>{completnessSymbol}</div> &nbsp;&nbsp;&nbsp;\n                <span style={{ fontSize: 15 }}>{props.summary.title}</span>\n            </div>\n            <div>\n                {props.available ? (\n                    <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                        <Percent color={percentage > 50 ? \"green\" : \"red\"}>\n                            {isNaN(percentage) ? \"--\" : percentage}%\n                        </Percent>\n\n                        <div>\n                            <Link to=\"/OSCE/Station/Brief\" style={{ display: \"block\" }}>\n                                <Button color=\"#FAD000\" onClick={() => handleClick(false)}>\n                                    Start\n                                </Button>\n                            </Link>\n                            {matches.length > 0 && (\n                                <Link to=\"/OSCE/Station/Summary\" style={{ display: \"block\" }}>\n                                    <Button color=\"grey\" onClick={() => handleClick(true)}>\n                                        Review\n                                    </Button>\n                                </Link>\n                            )}\n                        </div>\n                    </div>\n                ) : (\n                    <Premium\n                        color=\"#FAD000\"\n                        style={{ backgroundColor: \"#FAAD29\", color: \"#000000\" }}\n                        onClick={props.openSubscribeModal}\n                    >\n                        Premium\n                    </Premium>\n                )}\n            </div>\n        </StationPanel>\n    );\n};\n\nexport default StationSummaryCard;\n\nconst StationPanel = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    background-color: #1c2124;\n    color: white;\n    border-style: none;\n    border-radius: 10px;\n    width: 100%;\n    max-width: 400px;\n    margin: 0 20px 20px 0;\n`;\n\nconst Button = styled.button<{ color: string }>`\n    text-align: center;\n    margin: 5px 10px 5px 0;\n    border-radius: 8px;\n    padding: 0 10px;\n    height: 30px;\n    width: 75px;\n    border: 1px solid grey;\n    color: ${props => props.color};\n    background-color: transparent;\n`;\n\nconst Percent = styled.button<{ color: string }>`\n    text-align: center;\n    margin: 5px 10px 5px 0;\n    border-radius: 8px;\n    padding: 0 10px;\n    height: 30px;\n    border: 1px solid grey;\n    color: ${props => props.color};\n    background-color: transparent;\n`;\n\nconst Premium = styled.button`\n    text-align: center;\n    margin: 5px 10px 5px 0;\n    border-radius: 8px;\n    padding: 0 10px;\n    border: 1px solid grey;\n    color: #fad000;\n    background-color: #fad000;\n    width: 100px;\n`;\n"]},"metadata":{},"sourceType":"module"}