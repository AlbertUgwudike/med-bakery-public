{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/StationSummaryCard.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject,\n    _templateObject2;\n\nimport { useContext } from \"react\";\nimport { FaCheckCircle, FaMinusCircle, FaTimesCircle } from \"react-icons/fa\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport MetaContext from \"../../MetaContext\";\nimport { getBinaryDigits, markPercentage } from \"./hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar StationSummaryCard = function StationSummaryCard(props) {\n  _s();\n\n  var _useContext = useContext(MetaContext),\n      SERVER_URL = _useContext.SERVER_URL;\n\n  var matches = props.answeredStations.filter(function (s) {\n    return s.id === props.summary.id;\n  });\n  var percentage = matches.length === 0 ? 0 : markPercentage(matches[0].markCode);\n  var marks = matches.length === 0 ? [] : getBinaryDigits(matches[0].markCode).slice(1);\n\n  var handleClick = function handleClick(review) {\n    props.selectStation(props.summary.id, {\n      review: review,\n      marks: marks\n    });\n  };\n\n  var completnessSymbol = /*#__PURE__*/_jsxDEV(FaMinusCircle, {\n    color: \"#505050\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 29\n  }, _this);\n\n  if (!isNaN(percentage) || !props.available) {\n    completnessSymbol = percentage < 50 ? /*#__PURE__*/_jsxDEV(FaTimesCircle, {\n      color: \"red\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 31\n    }, _this) : /*#__PURE__*/_jsxDEV(FaCheckCircle, {\n      color: \"green\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 63\n    }, _this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(StationPanel, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: \"20px\"\n      },\n      children: completnessSymbol\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"5px\",\n        textAlign: \"left\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        children: props.summary.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, _this), props.available ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Last Attempt: \", isNaN(percentage) ? \"--\" : percentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, _this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/OSCE/Station/Brief\",\n          children: /*#__PURE__*/_jsxDEV(StartOrReview, {\n            onClick: function onClick() {\n              return handleClick(false);\n            },\n            children: \"Start\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 29\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, _this), matches.length > 0 && /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/OSCE/Station/Summary\",\n          children: /*#__PURE__*/_jsxDEV(StartOrReview, {\n            onClick: function onClick() {\n              return handleClick(true);\n            },\n            children: \"Review\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 33\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 29\n        }, _this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(StartOrReview, {\n        style: {\n          backgroundColor: \"#FAAD29\",\n          color: \"#000000\"\n        },\n        onClick: props.openSubscribeModal,\n        children: \"Premium Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, _this);\n};\n\n_s(StationSummaryCard, \"eICSKTBQ36V3gAq74Fgx3hoxWBI=\");\n\n_c = StationSummaryCard;\nexport default StationSummaryCard;\nvar StationPanel = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    background-color: #1c2124;\\n    color: white;\\n    border-style: none;\\n    border-radius: 10px;\\n    width: 100%;\\n    max-width: 500px;\\n    margin: 0 10px 10px 0;\\n\"])));\n_c2 = StationPanel;\nvar StartOrReview = styled.button(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    text-align: center;\\n    margin: 5px 10px 5px 0;\\n    border-radius: 8px;\\n    padding: 0 10px;\\n    height: 30px;\\n    border: 1px solid grey;\\n    color: #fad000;\\n    background-color: transparent;\\n\"])));\n_c3 = StartOrReview;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"StationSummaryCard\");\n$RefreshReg$(_c2, \"StationPanel\");\n$RefreshReg$(_c3, \"StartOrReview\");","map":{"version":3,"sources":["/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/StationSummaryCard.tsx"],"names":["useContext","FaCheckCircle","FaMinusCircle","FaTimesCircle","Link","styled","MetaContext","getBinaryDigits","markPercentage","StationSummaryCard","props","SERVER_URL","matches","answeredStations","filter","s","id","summary","percentage","length","markCode","marks","slice","handleClick","review","selectStation","completnessSymbol","isNaN","available","margin","padding","textAlign","title","backgroundColor","color","openSubscribeModal","StationPanel","div","StartOrReview","button"],"mappings":"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","sourcesContent":["import { Dispatch, SetStateAction, useContext, useEffect, useState } from \"react\";\nimport { FaCheckCircle, FaMinusCircle, FaTimesCircle } from \"react-icons/fa\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport MetaContext from \"../../MetaContext\";\nimport { getBinaryDigits, markPercentage } from \"./hooks\";\nimport { AnsweredStationDetails } from \"./types\";\n\ntype StationSummaryCardProps = {\n    summary: {\n        id: string;\n        thumbnail: string;\n        title: string;\n    };\n    selectStation: (id: string, options: { review: boolean; marks: (0 | 1)[] }) => void;\n    answeredStations: AnsweredStationDetails[];\n    available: boolean;\n    openSubscribeModal: () => void;\n};\n\nconst StationSummaryCard = (props: StationSummaryCardProps) => {\n    const { SERVER_URL } = useContext(MetaContext);\n\n    const matches = props.answeredStations.filter(s => s.id === props.summary.id);\n    const percentage = matches.length === 0 ? 0 : markPercentage(matches[0].markCode);\n    const marks = matches.length === 0 ? [] : getBinaryDigits(matches[0].markCode).slice(1);\n\n    const handleClick = (review: boolean) => {\n        props.selectStation(props.summary.id, { review, marks });\n    };\n\n    let completnessSymbol = <FaMinusCircle color=\"#505050\" />;\n    if (!isNaN(percentage) || !props.available) {\n        completnessSymbol =\n            percentage < 50 ? <FaTimesCircle color=\"red\" /> : <FaCheckCircle color=\"green\" />;\n    }\n\n    return (\n        <StationPanel>\n            <div style={{ margin: \"20px\" }}>{completnessSymbol}</div>\n            <div style={{ padding: \"5px\", textAlign: \"left\" }}>\n                <h5>{props.summary.title}</h5>\n\n                {props.available ? (\n                    <>\n                        <div>Last Attempt: {isNaN(percentage) ? \"--\" : percentage}%</div>\n                        <Link to=\"/OSCE/Station/Brief\">\n                            <StartOrReview onClick={() => handleClick(false)}>Start</StartOrReview>\n                        </Link>\n                        {matches.length > 0 && (\n                            <Link to=\"/OSCE/Station/Summary\">\n                                <StartOrReview onClick={() => handleClick(true)}>\n                                    Review\n                                </StartOrReview>\n                            </Link>\n                        )}\n                    </>\n                ) : (\n                    <StartOrReview\n                        style={{ backgroundColor: \"#FAAD29\", color: \"#000000\" }}\n                        onClick={props.openSubscribeModal}\n                    >\n                        Premium Content\n                    </StartOrReview>\n                )}\n            </div>\n        </StationPanel>\n    );\n};\n\nexport default StationSummaryCard;\n\nconst StationPanel = styled.div`\n    display: flex;\n    align-items: center;\n    background-color: #1c2124;\n    color: white;\n    border-style: none;\n    border-radius: 10px;\n    width: 100%;\n    max-width: 500px;\n    margin: 0 10px 10px 0;\n`;\n\nconst StartOrReview = styled.button`\n    text-align: center;\n    margin: 5px 10px 5px 0;\n    border-radius: 8px;\n    padding: 0 10px;\n    height: 30px;\n    border: 1px solid grey;\n    color: #fad000;\n    background-color: transparent;\n`;\n"]},"metadata":{},"sourceType":"module"}