{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _jsxFileName = \"/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/StationSummaryCard.tsx\",\n    _this = this,\n    _s = $RefreshSig$(),\n    _templateObject,\n    _templateObject2;\n\nimport { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport MetaContext from \"../../MetaContext\";\nimport { getBinaryDigits } from \"./hooks\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar StationSummaryCard = function StationSummaryCard(props) {\n  _s();\n\n  var _useContext = useContext(MetaContext),\n      SERVER_URL = _useContext.SERVER_URL;\n\n  var matches = props.answeredStations.filter(function (s) {\n    return s.id === props.summary.id;\n  });\n  var marks = matches.length === 0 ? [] : getBinaryDigits(matches[0].markCode).slice(1);\n  var percentage = marks.length > 0 ? Math.round(100 * marks.reduce(function (a, b) {\n    return a + b;\n  }, 0) / marks.length) : 0;\n\n  var handleClick = function handleClick(review) {\n    props.selectStation(props.summary.id, {\n      review: review,\n      marks: marks\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(StationPanel, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: \"20px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: SERVER_URL + \"/media/osce/\" + props.summary.thumbnail,\n          width: \"60pc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"5px\",\n          textAlign: \"left\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n          children: props.summary.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }, _this), props.available ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"Last Attempt: \", isNaN(percentage) ? \"--\" : percentage, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 29\n          }, _this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/OSCE/Station\",\n            children: /*#__PURE__*/_jsxDEV(StartOrReview, {\n              onClick: function onClick() {\n                return handleClick(false);\n              },\n              children: \"Start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 33\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 29\n          }, _this), matches.length > 0 && /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/OSCE/Station/Review0\",\n            children: /*#__PURE__*/_jsxDEV(StartOrReview, {\n              onClick: function onClick() {\n                return handleClick(true);\n              },\n              children: \"Review\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 37\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 33\n          }, _this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(StartOrReview, {\n          children: \"Requires full access!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, _this)]\n  }, void 0, true);\n};\n\n_s(StationSummaryCard, \"eICSKTBQ36V3gAq74Fgx3hoxWBI=\");\n\n_c = StationSummaryCard;\nexport default StationSummaryCard;\nvar StationPanel = styled.div(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n    background-color: #1c2124;\\n    color: white;\\n    border-style: none;\\n    border-radius: 5px;\\n    width: 100%;\\n    max-width: 500px;\\n\"])));\n_c2 = StationPanel;\nvar StartOrReview = styled.button(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n    text-align: center;\\n    margin: 5px 10px 5px 0;\\n    border-radius: 25px;\\n    padding: 0 10px;\\n    height: 30px;\\n    border: 2px solid grey;\\n    color: #fad000;\\n    background-color: transparent;\\n\"])));\n_c3 = StartOrReview;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"StationSummaryCard\");\n$RefreshReg$(_c2, \"StationPanel\");\n$RefreshReg$(_c3, \"StartOrReview\");","map":{"version":3,"sources":["/Users/albert/projects/med-bakery-react/client/src/components/OSCEPage/StationSummaryCard.tsx"],"names":["useContext","Link","styled","MetaContext","getBinaryDigits","StationSummaryCard","props","SERVER_URL","matches","answeredStations","filter","s","id","summary","marks","length","markCode","slice","percentage","Math","round","reduce","a","b","handleClick","review","selectStation","margin","thumbnail","padding","textAlign","title","available","isNaN","StationPanel","div","StartOrReview","button"],"mappings":"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","sourcesContent":["import { Dispatch, SetStateAction, useContext, useEffect, useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport MetaContext from \"../../MetaContext\";\nimport { getBinaryDigits } from \"./hooks\";\nimport { AnsweredStationDetails } from \"./types\";\n\ntype StationSummaryCardProps = {\n    summary: {\n        id: string;\n        thumbnail: string;\n        title: string;\n    };\n    selectStation: (id: string, options: { review: boolean; marks: (0 | 1)[] }) => void;\n    answeredStations: AnsweredStationDetails[];\n    available: boolean;\n};\n\nconst StationSummaryCard = (props: StationSummaryCardProps) => {\n    const { SERVER_URL } = useContext(MetaContext);\n\n    const matches = props.answeredStations.filter(s => s.id === props.summary.id);\n    const marks = matches.length === 0 ? [] : getBinaryDigits(matches[0].markCode).slice(1);\n    const percentage =\n        marks.length > 0\n            ? Math.round((100 * marks.reduce((a, b) => a + b, 0 as number)) / marks.length)\n            : 0;\n\n    const handleClick = (review: boolean) => {\n        props.selectStation(props.summary.id, { review, marks });\n    };\n\n    return (\n        <>\n            <StationPanel>\n                <div style={{ margin: \"20px\" }}>\n                    <img src={SERVER_URL + \"/media/osce/\" + props.summary.thumbnail} width=\"60pc\" />\n                </div>\n                <div style={{ padding: \"5px\", textAlign: \"left\" }}>\n                    <h5>{props.summary.title}</h5>\n\n                    {props.available ? (\n                        <>\n                            <div>Last Attempt: {isNaN(percentage) ? \"--\" : percentage}%</div>\n                            <Link to=\"/OSCE/Station\">\n                                <StartOrReview onClick={() => handleClick(false)}>\n                                    Start\n                                </StartOrReview>\n                            </Link>\n                            {matches.length > 0 && (\n                                <Link to=\"/OSCE/Station/Review0\">\n                                    <StartOrReview onClick={() => handleClick(true)}>\n                                        Review\n                                    </StartOrReview>\n                                </Link>\n                            )}\n                        </>\n                    ) : (\n                        <StartOrReview>Requires full access!</StartOrReview>\n                    )}\n                </div>\n            </StationPanel>\n            <br />\n        </>\n    );\n};\n\nexport default StationSummaryCard;\n\nconst StationPanel = styled.div`\n    display: flex;\n    align-items: center;\n    background-color: #1c2124;\n    color: white;\n    border-style: none;\n    border-radius: 5px;\n    width: 100%;\n    max-width: 500px;\n`;\n\nconst StartOrReview = styled.button`\n    text-align: center;\n    margin: 5px 10px 5px 0;\n    border-radius: 25px;\n    padding: 0 10px;\n    height: 30px;\n    border: 2px solid grey;\n    color: #fad000;\n    background-color: transparent;\n`;\n"]},"metadata":{},"sourceType":"module"}