{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _toConsumableArray from\"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/albert/projects/med-bakery-react/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18;import axios from\"../../myaxios\";import{useContext,useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import styled from\"styled-components\";import MetaContext from\"../../MetaContext\";import{NullQuestion}from\"./exampleQuestions\";import{FaTimes}from\"react-icons/fa\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TopicSelectorPage=function TopicSelectorPage(props){// these will be null in the actual implementatiuon\n// initalised once questions are retrieved\nvar _useState=useState([NullQuestion]),_useState2=_slicedToArray(_useState,2),questions=_useState2[0],updateQuestions=_useState2[1];var _useState3=useState(NullQuestion),_useState4=_slicedToArray(_useState3,2),selectedQuestion=_useState4[0],updateSelectedQuestion=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),selectedFinding=_useState6[0],updateSelectedFinding=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),selectedCategory=_useState8[0],updateSelectedCategory=_useState8[1];var _useContext=useContext(MetaContext),SERVER_URL=_useContext.SERVER_URL,token=_useContext.token;var loadQuestions=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,exemplarQuestions,firstCategory,firstFinding,firstRadioButton;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(SERVER_URL+\"/interp/get_questions\",{token:token});case 2:res=_context.sent;exemplarQuestions=res.data.questions.filter(function(q){return(q.exemplar===\"true\"||q.exemplar===\"false\")&&q.category!==\"ExcludedCategory\"&&q.finding!==\"Basics\"&&q.finding!==\"Irregular Rhythm\";});updateQuestions(exemplarQuestions);// Set the initial selected category and finding\nif(exemplarQuestions.length>0){firstCategory=exemplarQuestions[0].category;firstFinding=exemplarQuestions[0].finding;updateSelectedCategory(firstCategory);updateSelectedFinding(firstFinding);// Uncheck the first radio button\nfirstRadioButton=document.getElementById(firstFinding);if(firstRadioButton){firstRadioButton.checked=false;}}case 6:case\"end\":return _context.stop();}}},_callee);}));return function loadQuestions(){return _ref.apply(this,arguments);};}();useEffect(function(){loadQuestions();},[]);var categories=Array.apply(void 0,_toConsumableArray(new Set(questions.map(function(q){return q.category;}))));var changeSelection=function changeSelection(category,finding){updateSelectedCategory(category);console.log(\"Selected category:\",category);// Log the updated selected category\nvar filteredForCategory=questions.filter(function(q){return q.category===category;});if(finding===\"\"){updateSelectedFinding(filteredForCategory[0].finding);console.log(\"Selected finding:\",filteredForCategory[0].finding);// Log the updated selected finding\nupdateSelectedQuestion(filteredForCategory[0]);console.log(\"Selected question:\",filteredForCategory[0]);// Log the updated selected question\nprops.setCurrentFinding(filteredForCategory[0].finding);// Update the current finding using the prop\nreturn;}updateSelectedFinding(finding);console.log(\"Selected finding:\",finding);// Log the updated selected finding\nvar filteredForfinding=filteredForCategory.filter(function(q){return q.finding===finding;});// select a random question\nvar randomIndex=Math.floor(Math.random()*filteredForfinding.length);updateSelectedQuestion(filteredForfinding[randomIndex]);console.log(\"Selected question:\",filteredForfinding[randomIndex]);// Log the updated selected question\nprops.setCurrentFinding(finding);// Update the current finding using the prop\nprops.updateQuestions(filteredForfinding);};var handleStartButtonClick=function handleStartButtonClick(){setTopicSelectorDisplayed(true);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Fieldset,{children:[/*#__PURE__*/_jsx(Link,{to:\"/DataInterpretation\",children:/*#__PURE__*/_jsx(\"div\",{style:{position:\"relative\",top:2,left:185},children:/*#__PURE__*/_jsx(FaTimes,{})})}),/*#__PURE__*/_jsx(Legend,{children:\"Choose a topic\"}),/*#__PURE__*/_jsx(RadioItemContainer,{children:categories.map(function(c){var findings=Array.apply(void 0,_toConsumableArray(new Set(questions.filter(function(q){return q.category===c;}).map(function(q){return q.finding;}))));return/*#__PURE__*/_jsx(\"div\",{children:findings.map(function(f){return/*#__PURE__*/_jsx(RadioItem,{children:/*#__PURE__*/_jsxs(RadioLabel,{htmlFor:f,children:[/*#__PURE__*/_jsx(RadioInput,{type:\"radio\",id:f,name:\"category\",value:f,checked:selectedCategory===c&&selectedFinding===f&&selectedCategory!==null&&selectedFinding!==null,onChange:function onChange(){return changeSelection(c,f);}}),/*#__PURE__*/_jsx(RadioSpan,{children:f}),/*#__PURE__*/_jsx(Icon,{})]})});})});})})]}),/*#__PURE__*/_jsx(Link,{to:\"/DataInterpretation/Question\",children:/*#__PURE__*/_jsx(Title,{onClick:function onClick(){return props.updateCurrentQuestion(selectedQuestion);},children:/*#__PURE__*/_jsx(\"span\",{children:\"Start\"})})})]})})});};export default TopicSelectorPage;var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    margin: 5%;\\n    padding: 10px 10px;\\n    display: flex;\\n    flex-flow: column;\\n    height: 1000px;\\n    display: grid;\\n    place-items: center;\\n    user-select: none;\\n\"])));var FindingOption=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nmargin-bottom: 10px;\\npadding: 10px 5px;\\nborder: 0.25px solid grey;\\nmargin: 10px;\\nbackground-color: #fad000;\\ncolor: black;\\nmargin: 5%;\\nbackground-color: \",\";\\ncolor: \",\";\\n    display: flex;\\n    cursor: pointer;\\n\"])),function(props){return props.selected?\"#fad000\":\"transparent\";},function(props){return props.selected?\"black\":\"#81AFDD\";});var CategoryTitle=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    font-size: 20px;\\n    margin: 5px;\\n\"])));var CategoryPanel=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n\\n\"])));var QuestionSummary=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    text-align: center;\\n    border: 5px solid #031B34;\\n    margin: 10px;\\n    font-size: 20px;\\n    padding: 2%;\\n\"])));var Img=styled.img(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    height: 300px;\\n\"])));var Features=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    text-align: left;\\n    border: 0.25px solid grey;\\n    margin: 10px;\\n    padding: 20px;\\n\"])));var Content=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    background-color: #2f3237;\\n    width: 100%;\\n    margin: 25px 0px;\\n    padding: 25px;\\n    border-radius: 2px;\"])));var Title=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\ntext-align: center;\\nmargin-bottom: 10px;\\npadding: 10px 5px;\\nborder: 0.25px solid grey;\\nmargin: 10px;\\nbackground-color: #fad000;\\ncolor: black;\\nmargin: 5%;\\nborder-radius: 5px;\\nspan {\\n    color: black;\\n    font-weight: bold;\\n  }\\n\"])));var StartButton=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\ntext-align: center;\\nmargin-bottom: 10px;\\npadding: 10px 5px;\\nborder: 0.25px solid grey;\\nmargin: 10px;\\nbackground-color: #040C18;\\n\"])));function setTopicSelectorDisplayed(arg0){throw new Error(\"Function not implemented.\");}var Fieldset=styled.fieldset(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  padding: 0;\\n  margin: 0;\\n  border: 0;\\n  max-width: 340px;\\n  border-radius: 20px;\\n  width: 100%;\\n\"])));var Legend=styled.legend(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  font-size: 22px;\\n  font-weight: 600;\\n  color: #191919;\\n  margin: 0;\\n  background: #edf4fe;\\n  width: 100%;\\n  padding: 20px;\\n  box-sizing: border-box;\\n  border-radius: 10px 10px 0 0;\\n  border: 2px solid #3a88f6;\\n  display: flex;\\n\"])));var RadioItemContainer=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  border: 2px solid #3a88f6;\\n  border-top: 0;\\n  background: #042c54;\\n  border-radius: 0 0 10px 10px;\\n  padding: 10px 0;\\n\"])));var RadioItem=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  display: flex;\\n  position: relative;\\n  align-items: center;\\n\"])));var RadioLabel=styled.label(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  font-weight: 300;\\n  font-size: 16px;\\n  cursor: pointer;\\n  display: flex;\\n  align-items: center;\\n  flex: 1;\\n  box-sizing: border-box;\\n  display: flex;\\n  padding: 20px 20px 20px 50px;\\n  font-weight: 500;\\n  color: #FFFF;\\n  -webkit-tap-highlight-color: transparent;\\n\"])));var RadioInput=styled.input.attrs({type:\"radio\"})(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  appearance: none;\\n  -webkit-appearance: none;\\n  transition: linear 0.8s;\\n  height: 0;\\n  width: 0;\\n  -webkit-tap-highlight-color: transparent;\\n  left: 20px;\\n\\n  &:after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    height: 16px;\\n    width: 16px;\\n    top: 50%;\\n    left: 0;\\n    border-radius: 20px;\\n    border: 2px solid #3a88f6;\\n    transition: linear 0.2s;\\n    cursor: pointer;\\n    transform: translateY(-50%);\\n  }\\n\\n  &:checked:after {\\n    content: \\\"\\\";\\n    position: absolute;\\n    height: 16px;\\n    width: 16px;\\n    background: #3a88f6;\\n    transition: linear 0.2s;\\n    cursor: pointer;\\n    transform: translateY(-50%);\\n  }\\n\\n  &:checked:before {\\n    content: \\\"\\\";\\n    position: absolute;\\n    height: 8px;\\n    width: 8px;\\n    border-radius: 4px;\\n    background: #fff;\\n    left: 4px;\\n    top: 50%;\\n    z-index: 1;\\n    cursor: pointer;\\n    transform: translateY(-50%);\\n  }\\n\"])));var RadioSpan=styled.span(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  // Add any necessary CSS styles for the span\\n\"])));var Icon=styled.span(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  font-size: 24px;\\n  position: absolute;\\n  right: 26px;\\n  top: 11px;\\n  transition: linear 0.3s;\\n\\n  \",\":checked + \",\" > & {\\n    transform: scale(1.7);\\n  }\\n\"])),RadioInput,RadioSpan);","map":{"version":3,"sources":["/Users/albert/projects/med-bakery-react/client/src/components/DataInterpPage/TopicsSelectorPage.tsx"],"names":["axios","useContext","useEffect","useState","Link","styled","MetaContext","NullQuestion","FaTimes","TopicSelectorPage","props","questions","updateQuestions","selectedQuestion","updateSelectedQuestion","selectedFinding","updateSelectedFinding","selectedCategory","updateSelectedCategory","SERVER_URL","token","loadQuestions","post","res","exemplarQuestions","data","filter","q","exemplar","category","finding","length","firstCategory","firstFinding","firstRadioButton","document","getElementById","checked","categories","Array","Set","map","changeSelection","console","log","filteredForCategory","setCurrentFinding","filteredForfinding","randomIndex","Math","floor","random","handleStartButtonClick","setTopicSelectorDisplayed","position","top","left","c","findings","f","updateCurrentQuestion","Container","div","FindingOption","selected","CategoryTitle","CategoryPanel","QuestionSummary","Img","img","Features","Content","Title","StartButton","arg0","Error","Fieldset","fieldset","Legend","legend","RadioItemContainer","RadioItem","RadioLabel","label","RadioInput","input","attrs","type","RadioSpan","span","Icon"],"mappings":"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","sourcesContent":["import axios from \"../../myaxios\";\nimport { Dispatch, SetStateAction, useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport pneumo from \"./Pneumothorax.png\";\nimport { DataInterpQuestion } from \"./types\";\nimport MetaContext from \"../../MetaContext\";\nimport { NullQuestion } from \"./exampleQuestions\";\nimport { FaTimes } from \"react-icons/fa\";\n\n\nexport type TopicSelectorProps = {\n  updateCurrentQuestion: Dispatch<SetStateAction<DataInterpQuestion>>;\n  updateQuestions: Dispatch<SetStateAction<DataInterpQuestion[]>>;\n  setCurrentFinding: Dispatch<SetStateAction<string>>;\n};\n\n\nconst TopicSelectorPage = (props: TopicSelectorProps) => {\n    // these will be null in the actual implementatiuon\n    // initalised once questions are retrieved\n    const [questions, updateQuestions] = useState([ NullQuestion ]);\n    const [selectedQuestion, updateSelectedQuestion] = useState(NullQuestion);\n    const [selectedFinding, updateSelectedFinding] = useState<string | null>(\"\");\n    const [selectedCategory, updateSelectedCategory] = useState<string | null>(\"\");\n\n\n\n    const { SERVER_URL, token } = useContext(MetaContext);\n\n    const loadQuestions = async () => {\n  const res = await axios.post(SERVER_URL + \"/interp/get_questions\", { token });\n  const exemplarQuestions = res.data.questions.filter((q: { exemplar: string; category: string; finding: string }) => \n    (q.exemplar === \"true\" || q.exemplar === \"false\") &&\n    q.category !== \"ExcludedCategory\" &&\n    q.finding !== \"Basics\" &&\n    q.finding !== \"Irregular Rhythm\"\n  );\n\n  updateQuestions(exemplarQuestions);\n\n  // Set the initial selected category and finding\n  if (exemplarQuestions.length > 0) {\n    const firstCategory = exemplarQuestions[0].category;\n    const firstFinding = exemplarQuestions[0].finding;\n    updateSelectedCategory(firstCategory);\n    updateSelectedFinding(firstFinding);\n\n    // Uncheck the first radio button\n    const firstRadioButton = document.getElementById(firstFinding) as HTMLInputElement;\n    if (firstRadioButton) {\n      firstRadioButton.checked = false;\n    }\n  }\n};\n\n    \n      \n\n    \n    useEffect( () => { loadQuestions(); }, [])\n\n    const categories = Array(...new Set(questions.map(q => q.category)));\n\n    const changeSelection = (category: string, finding: string) => {\n      updateSelectedCategory(category);\n      console.log(\"Selected category:\", category); // Log the updated selected category\n    \n      const filteredForCategory = questions.filter(q => q.category === category);\n    \n      if (finding === \"\") {\n        updateSelectedFinding(filteredForCategory[0].finding);\n        console.log(\"Selected finding:\", filteredForCategory[0].finding); // Log the updated selected finding\n    \n        updateSelectedQuestion(filteredForCategory[0]);\n        console.log(\"Selected question:\", filteredForCategory[0]); // Log the updated selected question\n    \n        props.setCurrentFinding(filteredForCategory[0].finding); // Update the current finding using the prop\n        return;\n      }\n    \n      updateSelectedFinding(finding);\n      console.log(\"Selected finding:\", finding); // Log the updated selected finding\n    \n      const filteredForfinding = filteredForCategory.filter(q => q.finding === finding);\n    \n      // select a random question\n      const randomIndex = Math.floor(Math.random() * filteredForfinding.length);\n    \n      updateSelectedQuestion(filteredForfinding[randomIndex]);\n      console.log(\"Selected question:\", filteredForfinding[randomIndex]); // Log the updated selected question\n    \n      props.setCurrentFinding(finding); // Update the current finding using the prop\n      props.updateQuestions(filteredForfinding);\n    };\n    \n    \n    \n    \n    \n\n  \n  \n\n    const handleStartButtonClick = () => {\n        setTopicSelectorDisplayed(true);\n      };\n\n      return (\n        <> \n        \n        <Container>\n          <div >\n            <Fieldset>\n            <Link to = \"/DataInterpretation\" >\n                <div style = {{ position: \"relative\", top: 2, left: 185  }}><FaTimes /></div>\n            </Link>\n              <Legend>Choose a topic</Legend>\n              <RadioItemContainer >\n                {categories.map((c) => {\n                  const findings = Array(\n                    ...new Set(\n                      questions.filter((q) => q.category === c).map((q) => q.finding)\n                    )\n                  );\n      \n                  return (\n                    <div\n                      \n                    >\n                      {findings.map((f) => (\n                        <RadioItem>\n                          <RadioLabel htmlFor={f}>\n                      <RadioInput\n                          type=\"radio\"\n                          id={f}\n                          name=\"category\"\n                          value={f}\n                          checked={selectedCategory === c && selectedFinding === f && selectedCategory !== null && selectedFinding !== null}\n\n                          onChange={() => changeSelection(c, f)}\n                      />\n\n\n                            <RadioSpan>{f}</RadioSpan>\n                            <Icon></Icon>\n                          </RadioLabel>\n                        </RadioItem>\n                      ))}\n                    </div>\n                  );\n                })}\n              </RadioItemContainer>\n            </Fieldset>\n            <Link to=\"/DataInterpretation/Question\">\n              <Title onClick={() => props.updateCurrentQuestion(selectedQuestion)}>\n                <span>Start</span>\n              </Title>\n            </Link>\n          </div>\n        </Container>\n\n        </>\n      );\n      \n      \n};\n\nexport default TopicSelectorPage;\n\nconst Container = styled.div`\n    margin: 5%;\n    padding: 10px 10px;\n    display: flex;\n    flex-flow: column;\n    height: 1000px;\n    display: grid;\n    place-items: center;\n    user-select: none;\n`;\n\nconst FindingOption = styled.div<{ selected: boolean }>`\nmargin-bottom: 10px;\npadding: 10px 5px;\nborder: 0.25px solid grey;\nmargin: 10px;\nbackground-color: #fad000;\ncolor: black;\nmargin: 5%;\nbackground-color: ${props => (props.selected ? \"#fad000\" : \"transparent\")};\ncolor: ${props => (props.selected ? \"black\" : \"#81AFDD\")};\n    display: flex;\n    cursor: pointer;\n`;\n\nconst CategoryTitle = styled.div`\n    font-size: 20px;\n    margin: 5px;\n`;\n\nconst CategoryPanel = styled.div<{ selected: boolean }>`\n\n`;\n\nconst QuestionSummary = styled.div`\n    text-align: center;\n    border: 5px solid #031B34;\n    margin: 10px;\n    font-size: 20px;\n    padding: 2%;\n`;\n\nconst Img = styled.img`\n    height: 300px;\n`;\n\nconst Features = styled.div`\n    text-align: left;\n    border: 0.25px solid grey;\n    margin: 10px;\n    padding: 20px;\n`;\n\nconst Content = styled.div`\n    background-color: #2f3237;\n    width: 100%;\n    margin: 25px 0px;\n    padding: 25px;\n    border-radius: 2px;`;\n\nconst Title = styled.div`\ntext-align: center;\nmargin-bottom: 10px;\npadding: 10px 5px;\nborder: 0.25px solid grey;\nmargin: 10px;\nbackground-color: #fad000;\ncolor: black;\nmargin: 5%;\nborder-radius: 5px;\nspan {\n    color: black;\n    font-weight: bold;\n  }\n`;\n\n\n\nconst StartButton = styled.div`\ntext-align: center;\nmargin-bottom: 10px;\npadding: 10px 5px;\nborder: 0.25px solid grey;\nmargin: 10px;\nbackground-color: #040C18;\n`;\nfunction setTopicSelectorDisplayed(arg0: boolean) {\n    throw new Error(\"Function not implemented.\");\n}\n\n\n\nconst Fieldset = styled.fieldset`\n  padding: 0;\n  margin: 0;\n  border: 0;\n  max-width: 340px;\n  border-radius: 20px;\n  width: 100%;\n`;\n\nconst Legend = styled.legend`\n  font-size: 22px;\n  font-weight: 600;\n  color: #191919;\n  margin: 0;\n  background: #edf4fe;\n  width: 100%;\n  padding: 20px;\n  box-sizing: border-box;\n  border-radius: 10px 10px 0 0;\n  border: 2px solid #3a88f6;\n  display: flex;\n`;\n\nconst RadioItemContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  border: 2px solid #3a88f6;\n  border-top: 0;\n  background: #042c54;\n  border-radius: 0 0 10px 10px;\n  padding: 10px 0;\n`;\n\nconst RadioItem = styled.div`\n  display: flex;\n  position: relative;\n  align-items: center;\n`;\n\nconst RadioLabel = styled.label`\n  font-weight: 300;\n  font-size: 16px;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  flex: 1;\n  box-sizing: border-box;\n  display: flex;\n  padding: 20px 20px 20px 50px;\n  font-weight: 500;\n  color: #FFFF;\n  -webkit-tap-highlight-color: transparent;\n`;\n\nconst RadioInput = styled.input.attrs({ type: \"radio\" })`\n  position: absolute;\n  appearance: none;\n  -webkit-appearance: none;\n  transition: linear 0.8s;\n  height: 0;\n  width: 0;\n  -webkit-tap-highlight-color: transparent;\n  left: 20px;\n\n  &:after {\n    content: \"\";\n    position: absolute;\n    height: 16px;\n    width: 16px;\n    top: 50%;\n    left: 0;\n    border-radius: 20px;\n    border: 2px solid #3a88f6;\n    transition: linear 0.2s;\n    cursor: pointer;\n    transform: translateY(-50%);\n  }\n\n  &:checked:after {\n    content: \"\";\n    position: absolute;\n    height: 16px;\n    width: 16px;\n    background: #3a88f6;\n    transition: linear 0.2s;\n    cursor: pointer;\n    transform: translateY(-50%);\n  }\n\n  &:checked:before {\n    content: \"\";\n    position: absolute;\n    height: 8px;\n    width: 8px;\n    border-radius: 4px;\n    background: #fff;\n    left: 4px;\n    top: 50%;\n    z-index: 1;\n    cursor: pointer;\n    transform: translateY(-50%);\n  }\n`;\n\n\nconst RadioSpan = styled.span`\n  // Add any necessary CSS styles for the span\n`;\n\nconst Icon = styled.span`\n  font-size: 24px;\n  position: absolute;\n  right: 26px;\n  top: 11px;\n  transition: linear 0.3s;\n\n  ${RadioInput}:checked + ${RadioSpan} > & {\n    transform: scale(1.7);\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}