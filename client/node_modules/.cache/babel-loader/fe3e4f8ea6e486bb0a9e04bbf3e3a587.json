{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@babel/runtime/helpers/toConsumableArray'), require('dashify'), require('indefinite-article')) : typeof define === 'function' && define.amd ? define(['exports', '@babel/runtime/helpers/toConsumableArray', 'dashify', 'indefinite-article'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.compilerr = {}, global._toConsumableArray, global.dashify, global.indefiniteArticle));\n})(this, function (exports, _toConsumableArray, dashify, indefiniteArticle) {\n  'use strict';\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n\n  var _toConsumableArray__default = /*#__PURE__*/_interopDefaultLegacy(_toConsumableArray);\n\n  var dashify__default = /*#__PURE__*/_interopDefaultLegacy(dashify);\n\n  var indefiniteArticle__default = /*#__PURE__*/_interopDefaultLegacy(indefiniteArticle);\n\n  var applyModifiers = function applyModifiers(name, modifiers) {\n    if (modifiers === undefined) {\n      return name;\n    }\n\n    return modifiers.reduce(function (modifiedName, modifier) {\n      if (modifier === 'capitalize') {\n        var head = modifiedName.charAt(0).toUpperCase();\n        var tail = modifiedName.slice(1);\n        return \"\".concat(head).concat(tail);\n      }\n\n      if (modifier === 'dashify') {\n        return dashify__default[\"default\"](modifiedName);\n      }\n\n      if (modifier === 'prependIndefiniteArticle') {\n        return \"\".concat(indefiniteArticle__default[\"default\"](modifiedName), \" \").concat(modifiedName);\n      }\n\n      return modifiedName;\n    }, name);\n  };\n\n  var buildRegex = function buildRegex(variable) {\n    var expression = variable.name + variable.modifiers.map(function (modifier) {\n      return \"\\\\.\".concat(modifier, \"\\\\(\\\\)\");\n    }).join('');\n    return new RegExp(\"\\\\$\\\\{\".concat(expression, \"}\"), 'g');\n  };\n\n  var preRenderString = function preRenderString(string, parameters) {\n    var expressionRegex = /\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g;\n    var variables = [];\n    var expressionResult = expressionRegex.exec(string);\n\n    while (expressionResult !== null) {\n      var variable = {\n        modifiers: [],\n        name: expressionResult[1]\n      };\n\n      if (expressionResult[3] !== undefined) {\n        var modifiersRegex = /\\.[^(]+\\(\\)/g;\n        var modifiersRegexResult = modifiersRegex.exec(expressionResult[2]);\n\n        while (modifiersRegexResult !== null) {\n          variable.modifiers.push(modifiersRegexResult[0].slice(1, -2));\n          modifiersRegexResult = modifiersRegex.exec(expressionResult[2]);\n        }\n      }\n\n      variables.push(variable);\n      expressionResult = expressionRegex.exec(string);\n    }\n\n    var preRenderedParts = variables.reduce(function (parts, variable) {\n      return parts.map(function (part) {\n        if (typeof part === 'string') {\n          return part.split(buildRegex(variable)).reduce(function (prts, prt, index) {\n            if (index === 0) {\n              return [prt];\n            }\n\n            if (variable.name in parameters) {\n              return [].concat(_toConsumableArray__default[\"default\"](prts), [applyModifiers(parameters[variable.name], variable.modifiers), prt]);\n            }\n\n            return [].concat(_toConsumableArray__default[\"default\"](prts), [function (prmtrs) {\n              return applyModifiers(prmtrs[variable.name], variable.modifiers);\n            }, prt]);\n          }, []);\n        }\n\n        return [part];\n      }).reduce(function (prts, part) {\n        return [].concat(_toConsumableArray__default[\"default\"](prts), _toConsumableArray__default[\"default\"](part));\n      }, []);\n    }, [string]);\n    return function (missingParameters) {\n      return preRenderedParts.reduce(function (renderedParts, preRenderedPart) {\n        if (typeof preRenderedPart === 'string') {\n          return [].concat(_toConsumableArray__default[\"default\"](renderedParts), [preRenderedPart]);\n        }\n\n        return [].concat(_toConsumableArray__default[\"default\"](renderedParts), [preRenderedPart(missingParameters)]);\n      }, []).join('');\n    };\n  };\n\n  var compile = function compile(template) {\n    var knownParameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var renderCode = template.code === undefined ? undefined : preRenderString(template.code, knownParameters);\n    var renderMessage = template.message === undefined ? undefined : preRenderString(template.message, knownParameters);\n\n    function render() {\n      var causeOrMissingParameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var optionalCause = arguments.length > 1 ? arguments[1] : undefined;\n      var hasNoOptionalCause = optionalCause === undefined && (causeOrMissingParameters instanceof Error || causeOrMissingParameters.code !== undefined && causeOrMissingParameters.code.slice(-9) === 'Exception');\n\n      var _ref = hasNoOptionalCause ? {\n        cause: causeOrMissingParameters,\n        missingParameters: {}\n      } : {\n        cause: optionalCause,\n        missingParameters: causeOrMissingParameters\n      },\n          cause = _ref.cause,\n          missingParameters = _ref.missingParameters;\n\n      var err = renderMessage === undefined ? new Error() : new Error(renderMessage(missingParameters));\n\n      if (cause !== null) {\n        err.cause = cause;\n      }\n\n      if (renderCode !== undefined) {\n        err.code = renderCode(missingParameters);\n      }\n\n      if (template.status !== undefined) {\n        err.status = template.status;\n      }\n\n      return err;\n    }\n\n    return render;\n  };\n\n  exports.compile = compile;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","map":{"version":3,"sources":["/Users/albert/projects/med-bakery-react/client/node_modules/compilerr/build/es5/bundle.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","compilerr","_toConsumableArray","dashify","indefiniteArticle","_interopDefaultLegacy","e","_toConsumableArray__default","dashify__default","indefiniteArticle__default","applyModifiers","name","modifiers","undefined","reduce","modifiedName","modifier","head","charAt","toUpperCase","tail","slice","concat","buildRegex","variable","expression","map","join","RegExp","preRenderString","string","parameters","expressionRegex","variables","expressionResult","exec","modifiersRegex","modifiersRegexResult","push","preRenderedParts","parts","part","split","prts","prt","index","prmtrs","missingParameters","renderedParts","preRenderedPart","compile","template","knownParameters","arguments","length","renderCode","code","renderMessage","message","render","causeOrMissingParameters","optionalCause","hasNoOptionalCause","Error","_ref","cause","err","status","Object","defineProperty","value"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@babel/runtime/helpers/toConsumableArray'), require('dashify'), require('indefinite-article')) :\n    typeof define === 'function' && define.amd ? define(['exports', '@babel/runtime/helpers/toConsumableArray', 'dashify', 'indefinite-article'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.compilerr = {}, global._toConsumableArray, global.dashify, global.indefiniteArticle));\n})(this, (function (exports, _toConsumableArray, dashify, indefiniteArticle) { 'use strict';\n\n    function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\n    var _toConsumableArray__default = /*#__PURE__*/_interopDefaultLegacy(_toConsumableArray);\n    var dashify__default = /*#__PURE__*/_interopDefaultLegacy(dashify);\n    var indefiniteArticle__default = /*#__PURE__*/_interopDefaultLegacy(indefiniteArticle);\n\n    var applyModifiers = function applyModifiers(name, modifiers) {\n      if (modifiers === undefined) {\n        return name;\n      }\n\n      return modifiers.reduce(function (modifiedName, modifier) {\n        if (modifier === 'capitalize') {\n          var head = modifiedName.charAt(0).toUpperCase();\n          var tail = modifiedName.slice(1);\n          return \"\".concat(head).concat(tail);\n        }\n\n        if (modifier === 'dashify') {\n          return dashify__default[\"default\"](modifiedName);\n        }\n\n        if (modifier === 'prependIndefiniteArticle') {\n          return \"\".concat(indefiniteArticle__default[\"default\"](modifiedName), \" \").concat(modifiedName);\n        }\n\n        return modifiedName;\n      }, name);\n    };\n\n    var buildRegex = function buildRegex(variable) {\n      var expression = variable.name + variable.modifiers.map(function (modifier) {\n        return \"\\\\.\".concat(modifier, \"\\\\(\\\\)\");\n      }).join('');\n      return new RegExp(\"\\\\$\\\\{\".concat(expression, \"}\"), 'g');\n    };\n\n    var preRenderString = function preRenderString(string, parameters) {\n      var expressionRegex = /\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g;\n      var variables = [];\n      var expressionResult = expressionRegex.exec(string);\n\n      while (expressionResult !== null) {\n        var variable = {\n          modifiers: [],\n          name: expressionResult[1]\n        };\n\n        if (expressionResult[3] !== undefined) {\n          var modifiersRegex = /\\.[^(]+\\(\\)/g;\n          var modifiersRegexResult = modifiersRegex.exec(expressionResult[2]);\n\n          while (modifiersRegexResult !== null) {\n            variable.modifiers.push(modifiersRegexResult[0].slice(1, -2));\n            modifiersRegexResult = modifiersRegex.exec(expressionResult[2]);\n          }\n        }\n\n        variables.push(variable);\n        expressionResult = expressionRegex.exec(string);\n      }\n\n      var preRenderedParts = variables.reduce(function (parts, variable) {\n        return parts.map(function (part) {\n          if (typeof part === 'string') {\n            return part.split(buildRegex(variable)).reduce(function (prts, prt, index) {\n              if (index === 0) {\n                return [prt];\n              }\n\n              if (variable.name in parameters) {\n                return [].concat(_toConsumableArray__default[\"default\"](prts), [applyModifiers(parameters[variable.name], variable.modifiers), prt]);\n              }\n\n              return [].concat(_toConsumableArray__default[\"default\"](prts), [function (prmtrs) {\n                return applyModifiers(prmtrs[variable.name], variable.modifiers);\n              }, prt]);\n            }, []);\n          }\n\n          return [part];\n        }).reduce(function (prts, part) {\n          return [].concat(_toConsumableArray__default[\"default\"](prts), _toConsumableArray__default[\"default\"](part));\n        }, []);\n      }, [string]);\n      return function (missingParameters) {\n        return preRenderedParts.reduce(function (renderedParts, preRenderedPart) {\n          if (typeof preRenderedPart === 'string') {\n            return [].concat(_toConsumableArray__default[\"default\"](renderedParts), [preRenderedPart]);\n          }\n\n          return [].concat(_toConsumableArray__default[\"default\"](renderedParts), [preRenderedPart(missingParameters)]);\n        }, []).join('');\n      };\n    };\n\n    var compile = function compile(template) {\n      var knownParameters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var renderCode = template.code === undefined ? undefined : preRenderString(template.code, knownParameters);\n      var renderMessage = template.message === undefined ? undefined : preRenderString(template.message, knownParameters);\n\n      function render() {\n        var causeOrMissingParameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var optionalCause = arguments.length > 1 ? arguments[1] : undefined;\n        var hasNoOptionalCause = optionalCause === undefined && (causeOrMissingParameters instanceof Error || causeOrMissingParameters.code !== undefined && causeOrMissingParameters.code.slice(-9) === 'Exception');\n\n        var _ref = hasNoOptionalCause ? {\n          cause: causeOrMissingParameters,\n          missingParameters: {}\n        } : {\n          cause: optionalCause,\n          missingParameters: causeOrMissingParameters\n        },\n            cause = _ref.cause,\n            missingParameters = _ref.missingParameters;\n\n        var err = renderMessage === undefined ? new Error() : new Error(renderMessage(missingParameters));\n\n        if (cause !== null) {\n          err.cause = cause;\n        }\n\n        if (renderCode !== undefined) {\n          err.code = renderCode(missingParameters);\n        }\n\n        if (template.status !== undefined) {\n          err.status = template.status;\n        }\n\n        return err;\n      }\n\n      return render;\n    };\n\n    exports.compile = compile;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n"]},"metadata":{},"sourceType":"script"}