var utilStorage=function(e){var t="global",o="undefined",n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0;function r(e){return n[e]}function a(e,t){return n[e]=t,t}function i(e){a(e)}var u="cookie",l=s(),c=d,f=d;function g(e){return l?d(e,"",-1):i(e)}function s(){if(typeof l!==o)return l;try{d("__x","__x"),l=-1!==document.cookie.indexOf("__x"),g("__x")}catch(e){l=!1}return l}function d(e,t,n,i,u,c){if(typeof window!==o){var f=arguments.length>1;return l||(f?a(e,t):r(e)),f?document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(i?"; path="+i:"")+(u?"; domain="+u:"")+(c?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var p="localStorage",v=m();function m(){if(typeof v!==o)return v;v=!0;try{typeof localStorage!==o&&typeof JSON!==o||(v=!1),localStorage.setItem(o,o),localStorage.removeItem(o)}catch(e){v=!1}return v}var y="any",S="undefined"!=typeof window;function b(e){return void 0===e}function I(e){var t=e;try{if("true"===(t=JSON.parse(e)))return!0;if("false"===t)return!1;if(function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch(e){}if(null!==t&&""!==t)return t}"undefined"!=typeof process&&null!=process.versions&&process,"undefined"!=typeof Deno&&Deno,S&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));var O=m(),k=s();function C(e,t){if(e){var o=w(t),n=!A(o),a=h(o)?I(localStorage.getItem(e)):void 0;if(n&&!b(a))return a;var i=x(o)?I(c(e)):void 0;if(n&&i)return i;var u=r(e);return n?u:{localStorage:a,cookie:i,global:u}}}function j(e,o,n){if(e&&!b(o)){var i={},l=w(n),g=JSON.stringify(o),s=!A(l);return h(l)&&(i[p]=N(p,o,I(localStorage.getItem(e))),localStorage.setItem(e,g),s)?i[p]:x(l)&&(i[u]=N(u,o,I(c(e))),f(e,g),s)?i[u]:(i[t]=N(t,o,r(e)),a(e,o),s?i[t]:i)}}function _(e,o){if(e){var n=w(o),r=C(e,"*"),a={};return!b(r.localStorage)&&h(n)&&(localStorage.removeItem(e),a[p]=r.localStorage),!b(r.cookie)&&x(n)&&(g(e),a[u]=r.cookie),!b(r.global)&&L(n,t)&&(i(e),a[t]=r.global),a}}function w(e){return e?function(e){return"string"==typeof e}(e)?e:e.storage:y}function h(e){return O&&L(e,p)}function x(e){return k&&L(e,u)}function A(e){return"*"===e||"all"===e}function L(e,t){return e===y||e===t||A(e)}function N(e,t,o){return{location:e,current:t,previous:o}}var D={setItem:j,getItem:C,removeItem:_};return e.ALL="*",e.ANY=y,e.COOKIE=u,e.GLOBAL=t,e.LOCAL_STORAGE=p,e.default=D,e.getCookie=c,e.getItem=C,e.globalContext=n,e.hasCookies=s,e.hasLocalStorage=m,e.removeCookie=g,e.removeItem=_,e.setCookie=f,e.setItem=j,e}({});
//# sourceMappingURL=storage-utils.js.map
