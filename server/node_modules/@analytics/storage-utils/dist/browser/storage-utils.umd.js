!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e||self).utilStorage={})}(this,function(e){var t="global",o="undefined",n="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||void 0;function r(e){return n[e]}function i(e,t){return n[e]=t,t}function a(e){i(e)}var f="cookie",l=g(),u=d,c=d;function s(e){return l?d(e,"",-1):a(e)}function g(){if(typeof l!==o)return l;try{d("__x","__x"),l=-1!==document.cookie.indexOf("__x"),s("__x")}catch(e){l=!1}return l}function d(e,t,n,a,f,u){if(typeof window!==o){var c=arguments.length>1;return l||(c?i(e,t):r(e)),c?document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(a?"; path="+a:"")+(f?"; domain="+f:"")+(u?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var p="localStorage",v=m();function m(){if(typeof v!==o)return v;v=!0;try{typeof localStorage!==o&&typeof JSON!==o||(v=!1),localStorage.setItem(o,o),localStorage.removeItem(o)}catch(e){v=!1}return v}var y="any",b="undefined"!=typeof window;function S(e){return void 0===e}function I(e){var t=e;try{if("true"===(t=JSON.parse(e)))return!0;if("false"===t)return!1;if(function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch(e){}if(null!==t&&""!==t)return t}"undefined"!=typeof process&&null!=process.versions&&process,"undefined"!=typeof Deno&&Deno,b&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));var O=m(),k=g();function h(e,t){if(e){var o=C(t),n=!A(o),i=_(o)?I(localStorage.getItem(e)):void 0;if(n&&!S(i))return i;var a=w(o)?I(u(e)):void 0;if(n&&a)return a;var f=r(e);return n?f:{localStorage:i,cookie:a,global:f}}}function j(e,o,n){if(e&&!S(o)){var a={},l=C(n),s=JSON.stringify(o),g=!A(l);return _(l)&&(a[p]=N(p,o,I(localStorage.getItem(e))),localStorage.setItem(e,s),g)?a[p]:w(l)&&(a[f]=N(f,o,I(u(e))),c(e,s),g)?a[f]:(a[t]=N(t,o,r(e)),i(e,o),g?a[t]:a)}}function x(e,o){if(e){var n=C(o),r=h(e,"*"),i={};return!S(r.localStorage)&&_(n)&&(localStorage.removeItem(e),i[p]=r.localStorage),!S(r.cookie)&&w(n)&&(s(e),i[f]=r.cookie),!S(r.global)&&L(n,t)&&(a(e),i[t]=r.global),i}}function C(e){return e?function(e){return"string"==typeof e}(e)?e:e.storage:y}function _(e){return O&&L(e,p)}function w(e){return k&&L(e,f)}function A(e){return"*"===e||"all"===e}function L(e,t){return e===y||e===t||A(e)}function N(e,t,o){return{location:e,current:t,previous:o}}var D={setItem:j,getItem:h,removeItem:x};e.ALL="*",e.ANY=y,e.COOKIE=f,e.GLOBAL=t,e.LOCAL_STORAGE=p,e.default=D,e.getCookie=u,e.getItem=h,e.globalContext=n,e.hasCookies=g,e.hasLocalStorage=m,e.removeCookie=s,e.removeItem=x,e.setCookie=c,e.setItem=j});
//# sourceMappingURL=storage-utils.umd.js.map
